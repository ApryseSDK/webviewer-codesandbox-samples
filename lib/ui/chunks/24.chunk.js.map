{"version":3,"sources":["webpack:///./src/ui/src/components/CreateStampModal/CustomStampForums.scss?d136","webpack:///./src/ui/src/components/CreateStampModal/CustomStampForums.scss","webpack:///./src/ui/src/components/CreateStampModal/CreateStampModal.scss?927b","webpack:///./src/ui/src/components/CreateStampModal/CreateStampModal.scss","webpack:///./src/ui/src/components/CreateStampModal/CustomStampForums.js","webpack:///./src/ui/src/components/CreateStampModal/CreateStampModal.js","webpack:///./src/ui/src/components/CreateStampModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","webComponents","document","getElementsByTagName","length","clonedStyleTags","webComponent","shadowRoot","appendChild","onload","forEach","styleNode","innerHTML","cloneNode","push","head","exports","locals","FALLBACK_DATE_TIME_FORMAT","date","time","timeFirst","dateTimeFormatToString","format","useDate","useTime","propTypes","state","PropTypes","object","setState","func","setEmptyInput","fonts","array","openColorPicker","getCustomColorAndRemove","openDeleteModal","dateTimeFormats","stampTool","userName","string","CustomStampForums","updateTimestampLabel","usernameChk","dateChk","dateTime","tmpText","defaultDateTimeFormat","useState","setDateTime","usernameCheckbox","setUsernameCheckbox","dateCheckbox","setDateCheckbox","timeCheckbox","setTimeCheckbox","stampTextInputValue","setStampText","t","useTranslation","txt","timestampFormat","setTimestampFormat","canvasRef","useRef","canvasContainerRef","inputRef","updateCanvas","title","subtitle","newState","parameters","canvas","current","width","height","color","textColor","canvasParent","font","bold","italic","underline","strikeout","drawCustomStamp","dataURL","toDataURL","useEffect","handleRichTextStyleChange","style","stampInputLabel","getHexColor","givenColor","A","toHexString","toLowerCase","openPicker","addNew","type","isText","getInstanceNode","instance","UI","addEventListener","Events","VISIBILITY_CHANGED","handleVisiblityChanged","e","detail","element","isVisible","colorToBeAdded","setTextColor","setBackgroundColor","toolColors","window","Core","Tools","RubberStampCreateTool","setTextColors","setBackgroundColors","removeEventListener","deleteColor","newColors","textColors","filter","textColorToBeDeleted","backgroundColors","backgroundColorToBeDeleted","setTextColorToBeDeleted","setBackgroundColorToBeDeleted","backgroundColor","handleTextColorChange","newColor","handleBackgroundColorChange","formatsList","dateTimeDropdownItems","Array","from","Set","map","className","ref","aria-label","substring","value","onChange","target","Dropdown","items","onClickItem","currentSelectionKey","getCustomItemStyle","item","fontFamily","Button","dataElement","onClick","img","isActive","ColorPalettePicker","setColorToBeDeleted","colorToBeDeleted","customColors","onStyleChange","handleColorOnClick","handleOnClick","disableTitle","enableEdit","colorsAreHex","Choice","id","checked","label","newDateTime","Icon","glyph","newFormat","fillColors","CustomStampModal","stampToolArray","core","getToolsFromAllDocumentViewers","store","useStore","emptyInput","useSelector","selectors","isElementOpen","DataElements","CUSTOM_STAMP_MODAL","getFonts","getDateTimeFormats","getUserName","isOpen","dispatch","useDispatch","deselectAllAnnotations","closeModal","actions","closeElement","onConfirm","message","confirmBtnText","warning","showWarningMessage","modalClass","classNames","Modal","open","closed","createCustomStamp","setToolMode","addCustomStamp","createCustomStampAnnotation","annot","setRubberStamp","showPreview","standardStampCount","getStandardStamps","customStampCount","getCustomStamps","setSelectedStampIndex","data-element","FocusTrap","locked","onMouseDown","stopPropagation","customColor","getCustomColor","getState","setCustomColor","openElement","isModalOpen","CreateStampModal"],"mappings":"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","file":"chunks/24.chunk.js","sourcesContent":["var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./CustomStampForums.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.text-customstamp{padding:16px;margin:0;display:flex;flex-direction:column}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp{width:100%;padding:4px 8px}.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .scroll-container{width:100%;max-height:50%;padding-bottom:0;margin-bottom:0;overflow-y:auto;overflow-x:visible}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp{width:100%;padding:4px 8px}.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .scroll-container{width:100%;max-height:50%;padding-bottom:0;margin-bottom:0;overflow-y:auto;overflow-x:visible}}.text-customstamp-input{outline:none;border-radius:4px;border:1px solid var(--modal-stroke-and-border);box-shadow:none;padding:5px}.text-customstamp .txt-uppercase{text-transform:uppercase}.text-customstamp-container{position:relative;margin-top:10px;flex:1;border:1px solid var(--modal-stroke-and-border);border-radius:4px;overflow:auto}.text-customstamp-container canvas{position:absolute;visibility:hidden;z-index:-1;width:100%;height:100%}.text-customstamp-inner-container{position:absolute;min-width:100%}.text-customstamp .canvas-container{border:1px solid var(--modal-stroke-and-border);box-sizing:border-box;position:relative;overflow:hidden;background-color:var(--signature-draw-background);display:flex;flex-direction:row;justify-content:center;padding:48px 74px;border-radius:4px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .canvas-container{padding:12px .5px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .canvas-container{padding:12px .5px}}.text-customstamp .canvas-container .custom-stamp-canvas{box-sizing:border-box}@media(max-width:430px){.text-customstamp .canvas-container .custom-stamp-canvas{transform:scale(.8)}}.text-customstamp .color-container{margin-top:16px;width:100%}.text-customstamp .color-container .ColorPalette{display:flex;flex-wrap:wrap;width:100%;grid-gap:4px;gap:4px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .color-container .ColorPalette{padding:4px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .color-container .ColorPalette{padding:4px}}.text-customstamp .color-container .ColorPalette .cell-outer{margin-right:16px}.text-customstamp .color-container .ColorPalette .cell-outer.active{margin-left:-4px;margin-right:10px}.text-customstamp .color-container .ColorPalette .cell-container{flex:unset;width:auto;height:auto}.text-customstamp .stamp-input-container{margin-top:16px;padding:0;height:52px}.text-customstamp .stamp-input-container .text-customstamp-input{width:100%;padding:6px}.text-customstamp .stamp-label,.text-customstamp .stamp-sublabel{font-weight:700;margin-bottom:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .stamp-label,.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .stamp-sublabel{font-size:13px;height:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .stamp-label,.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .stamp-sublabel{font-size:13px;height:16px}}.text-customstamp .timestamp-container{margin-top:16px;padding:0}.text-customstamp .timestamp-container .timeStamp-choice{height:16px;display:grid;width:100%;grid-template-columns:22.32% 22.32% 22.32% 33.04%;grid-gap:16px}@media(max-width:430px){.text-customstamp .timestamp-container .timeStamp-choice{grid-template-columns:30% 30% 30%;height:100%;font-size:13px}}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.text-customstamp .timestamp-container .timeStamp-choice .ui__choice{display:-ms-inline-flexbox;width:33.33%}}.text-customstamp .timestamp-container .timeStamp-choice .ui__choice{margin:0;line-height:1}.text-customstamp .timestamp-container .timeStamp-choice .ui__choice .ui__choice__label{padding-left:4px}.text-customstamp .date-format-container{margin-top:16px;display:flex;flex-wrap:wrap}.text-customstamp .date-format-container .Dropdown__wrapper{width:100%}.text-customstamp .date-format-container .Dropdown__wrapper .Dropdown{width:100%!important;text-align:left}.text-customstamp .date-format-container .Dropdown__wrapper .arrow{flex:unset}.text-customstamp .date-format-container .Dropdown__wrapper .Dropdown__items{z-index:101;bottom:100%;top:auto;left:0;right:auto}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .date-format-container .Dropdown__wrapper .Dropdown__items{max-height:200px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .date-format-container .Dropdown__wrapper .Dropdown__items{max-height:200px}}.text-customstamp .date-format-container .hover-icon{margin-left:2px;position:relative}.text-customstamp .date-format-container .hover-icon .Icon{width:18px;height:18px}.text-customstamp .date-format-container .hover-icon .date-format-description{display:flex;flex-direction:column;text-align:left;visibility:hidden;position:absolute;background-color:#000;border-radius:5px;padding:12px;color:#fff;width:120px;z-index:101;bottom:100%;top:auto;left:0;right:auto}.text-customstamp .date-format-container .hover-icon:hover .Icon{color:var(--blue-6)}.text-customstamp .date-format-container .hover-icon:hover .date-format-description{visibility:visible}.text-customstamp .font-container{margin-top:16px}.text-customstamp .font-container .font-inner-container{display:flex;grid-gap:12px;gap:12px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .font-container .font-inner-container{grid-gap:6px;gap:6px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .font-container .font-inner-container{grid-gap:6px;gap:6px}}.text-customstamp .font-container .stamp-sublabel{font-weight:700;margin-bottom:8px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .font-container .stamp-sublabel{font-size:13px;height:16px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .font-container .stamp-sublabel{font-size:13px;height:16px}}.text-customstamp .font-container .Dropdown__wrapper .Dropdown{margin-right:4px;width:216px!important;text-align:left}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .font-container .Dropdown__wrapper .Dropdown{width:200px!important}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .font-container .Dropdown__wrapper .Dropdown{width:200px!important}}.text-customstamp .font-container .Dropdown__wrapper .arrow{flex:unset}.text-customstamp .font-container .Dropdown__wrapper .Dropdown__items{bottom:100%;top:auto;left:0;right:auto}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .text-customstamp .font-container .Dropdown__wrapper .Dropdown__items{bottom:auto;height:200px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .text-customstamp .font-container .Dropdown__wrapper .Dropdown__items{bottom:auto;height:200px}}.text-customstamp .font-container .Button{background:none;width:28px;height:28px;margin:0}.text-customstamp .font-container .Button .Icon{height:26px;width:26px;color:var(--icon-color)}.text-customstamp .font-container .Button:hover{background:var(--popup-button-hover)}.text-customstamp .font-container .Button.active{background:var(--popup-button-active)}.text-customstamp .font-container .Button.active .Icon{color:var(--blue-6)}.text-customstamp .custom-checkbox{position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;margin-bottom:5px;margin-top:5px}.text-customstamp .custom-checkbox input{display:none}.text-customstamp .custom-checkbox input+label:before{cursor:pointer;content:\\\"\\\";margin:1px 10px 0 0;display:inline-block;vertical-align:text-top;width:16px;height:16px;border-radius:4px;border:1px solid #979797}.text-customstamp .custom-checkbox input:checked+label:before{background:#00a5e4;border:1px solid transparent}.text-customstamp .custom-checkbox input:checked+label:after{content:\\\"\\\";position:absolute;left:4px;top:9px;background:#fff;width:2px;height:2px;box-shadow:2px 0 0 #fff,4px 0 0 #fff,4px -2px 0 #fff,4px -4px 0 #fff,4px -6px 0 #fff,4px -8px 0 #fff;transform:rotate(45deg)}.text-customstamp .custom-checkbox label{align-items:center}.text-customstamp .empty-stamp-input{color:var(--error-text-color)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./CreateStampModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.CustomStampModal{visibility:visible}.closed.CustomStampModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.CustomStampModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.CustomStampModal .modal-container .wrapper .modal-content{padding:10px}.CustomStampModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.CustomStampModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.CustomStampModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.CustomStampModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.CustomStampModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.CustomStampModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.CustomStampModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.CustomStampModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.CustomStampModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.CustomStampModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomStampModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomStampModal .footer .modal-button{padding:23px 8px}}.CustomStampModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomStampModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomStampModal .swipe-indicator{display:none}}@media(max-height:500px){.App:not(.is-web-component) .CustomStampModal .container,.CustomStampModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .CustomStampModal .container,.CustomStampModal .App.is-web-component .container{overflow:auto;max-height:100%}}.CustomStampModal .container{display:flex;flex-direction:column;width:480px;padding:0;border-radius:4px;box-shadow:0 0 3px 0 var(--document-box-shadow);background:var(--component-background);overflow-y:auto;max-height:100%}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomStampModal .container{width:100%;position:fixed;border-radius:0;left:0;bottom:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomStampModal .container{width:100%;position:fixed;border-radius:0;left:0;bottom:0}}.CustomStampModal .container .header{box-shadow:inset 0 -1px 0 var(--modal-stroke-and-border);margin:0;display:flex;align-items:center;width:100%;padding:16px}.CustomStampModal .container .header p{font-size:16px;font-weight:700;width:89.286%;margin:0 16px 0 0}.CustomStampModal .container .header .Button{position:static;height:32px;width:32px;border-radius:4px}.CustomStampModal .container .header .Button:hover{background:var(--popup-button-hover)}.CustomStampModal .container .header .Button.selected{background:var(--popup-button-active);cursor:default}.CustomStampModal .container .footer{display:flex;align-items:center;flex-direction:row-reverse;justify-content:space-between;margin:0;top:460px;padding:16px;box-shadow:inset 0 1px 0 var(--modal-stroke-and-border)}.CustomStampModal .container .footer .stamp-close{border:none;background-color:transparent;color:var(--secondary-button-text);padding:0 8px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer}:host(:not([data-tabbing=true])) .CustomStampModal .container .footer .stamp-close,html:not([data-tabbing=true]) .CustomStampModal .container .footer .stamp-close{outline:none}.CustomStampModal .container .footer .stamp-close:hover{color:var(--secondary-button-hover)}.CustomStampModal .container .footer .stamp-create{border:none;background-color:transparent;background:var(--primary-button);border-radius:4px;height:32px;display:flex;align-items:center;padding:8px 16px;width:72px;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}:host(:not([data-tabbing=true])) .CustomStampModal .container .footer .stamp-create,html:not([data-tabbing=true]) .CustomStampModal .container .footer .stamp-create{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .CustomStampModal .container .footer .stamp-create{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .CustomStampModal .container .footer .stamp-create{font-size:13px}}.CustomStampModal .container .footer .stamp-create:hover{background:var(--primary-button-hover)}.CustomStampModal .container .footer .stamp-create-disabled{background:var(--disabled-icon)}.CustomStampModal .container .footer .stamp-create-disabled:hover{background:var(--disabled-icon);cursor:default}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport Choice from 'components/Choice';\r\nimport Dropdown from 'components/Dropdown';\r\nimport Button from 'components/Button';\r\nimport Icon from 'components/Icon';\r\nimport ColorPalettePicker from 'components/ColorPalettePicker/ColorPalettePicker'; // ColorPalletPicker inner import required as we are not using the redux outer container\r\nimport Events from 'constants/events';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport './CustomStampForums.scss';\r\nimport { getInstanceNode } from 'helpers/getRootNode';\r\n\r\nconst FALLBACK_DATE_TIME_FORMAT = {\r\n  date: 'MM/DD/YYYY',\r\n  time: 'hh:mm A',\r\n  timeFirst: false,\r\n};\r\n\r\nconst dateTimeFormatToString = (format, useDate = true, useTime = true) => {\r\n  if (!useDate) {\r\n    if (!format.time) {\r\n      return '';\r\n    }\r\n    return format.time;\r\n  }\r\n  if (!useTime) {\r\n    if (!format.date) {\r\n      return '';\r\n    }\r\n    return format.date;\r\n  }\r\n  return format.timeFirst ?\r\n    `${format.time} ${format.date}` :\r\n    `${format.date} ${format.time}`;\r\n};\r\n\r\nconst propTypes = {\r\n  state: PropTypes.object,\r\n  setState: PropTypes.func,\r\n  setEmptyInput: PropTypes.func,\r\n  fonts: PropTypes.array,\r\n  openColorPicker: PropTypes.func,\r\n  getCustomColorAndRemove: PropTypes.func,\r\n  openDeleteModal: PropTypes.func,\r\n  dateTimeFormats: PropTypes.array,\r\n  stampTool: PropTypes.object,\r\n  userName: PropTypes.string,\r\n};\r\n\r\nconst CustomStampForums = ({\r\n  state,\r\n  setState,\r\n  setEmptyInput,\r\n  fonts,\r\n  openColorPicker,\r\n  getCustomColorAndRemove,\r\n  openDeleteModal,\r\n  dateTimeFormats,\r\n  stampTool,\r\n  userName,\r\n}) => {\r\n  const updateTimestampLabel = (usernameChk, dateChk, dateTime) => {\r\n    let tmpText = '';\r\n    if (usernameChk) {\r\n      tmpText += '[$currentUser] ';\r\n    }\r\n    if (dateChk) {\r\n      tmpText += dateTime;\r\n    }\r\n    return tmpText;\r\n  };\r\n\r\n  const defaultDateTimeFormat = dateTimeFormats && dateTimeFormats[0] ? dateTimeFormats[0] : FALLBACK_DATE_TIME_FORMAT;\r\n  const [dateTime, setDateTime] = useState(dateTimeFormatToString(defaultDateTimeFormat));\r\n  const [usernameCheckbox, setUsernameCheckbox] = useState(true);\r\n  const [dateCheckbox, setDateCheckbox] = useState(true);\r\n  const [timeCheckbox, setTimeCheckbox] = useState(true);\r\n\r\n  const [stampTextInputValue, setStampText] = useState('Draft');\r\n  const [t] = useTranslation();\r\n\r\n  const txt = updateTimestampLabel(usernameCheckbox, dateCheckbox, dateTime);\r\n  const [timestampFormat, setTimestampFormat] = useState(txt);\r\n\r\n  const canvasRef = useRef();\r\n  const canvasContainerRef = useRef();\r\n  const inputRef = useRef();\r\n\r\n  const updateCanvas = (title, subtitle, newState = state) => {\r\n    const parameters = {\r\n      canvas: canvasRef.current,\r\n      title,\r\n      subtitle,\r\n      width: 300,\r\n      height: 100,\r\n      color: newState.color,\r\n      textColor: newState.textColor,\r\n      canvasParent: canvasContainerRef.current,\r\n      font: newState.font,\r\n      bold: newState.bold,\r\n      italic: newState.italic,\r\n      underline: newState.underline,\r\n      strikeout: newState.strikeout,\r\n    };\r\n\r\n    const width = stampTool.drawCustomStamp(parameters);\r\n    const dataURL = canvasRef.current.toDataURL();\r\n\r\n    setState({\r\n      ...newState,\r\n      width,\r\n      title,\r\n      subtitle,\r\n      height: parameters.height,\r\n      dataURL,\r\n    });\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const value = e.target.value || '';\r\n    setStampText(value);\r\n    setEmptyInput(!value);\r\n    updateCanvas(value, timestampFormat);\r\n  };\r\n\r\n  useEffect(() => {\r\n    updateCanvas(stampTextInputValue, timestampFormat, state);\r\n  }, [userName]);\r\n\r\n  const handleDateCheckboxChange = () => {\r\n    setDateCheckbox(!dateCheckbox);\r\n    const newDateTime = dateTimeFormatToString(defaultDateTimeFormat, !dateCheckbox, timeCheckbox);\r\n    setDateTime(newDateTime);\r\n    const txt = updateTimestampLabel(usernameCheckbox, (!dateCheckbox || timeCheckbox), newDateTime);\r\n    setTimestampFormat(txt);\r\n    updateCanvas(stampTextInputValue, txt);\r\n  };\r\n\r\n  const handleTimeCheckboxChange = () => {\r\n    setTimeCheckbox(!timeCheckbox);\r\n    const newDateTime = dateTimeFormatToString(defaultDateTimeFormat, dateCheckbox, !timeCheckbox);\r\n    setDateTime(newDateTime);\r\n    const txt = updateTimestampLabel(usernameCheckbox, (dateCheckbox || !timeCheckbox), newDateTime);\r\n    setTimestampFormat(txt);\r\n    updateCanvas(stampTextInputValue, txt);\r\n  };\r\n\r\n  const handleUsernameCheckbox = () => {\r\n    setUsernameCheckbox(!usernameCheckbox);\r\n    const txt = updateTimestampLabel(!usernameCheckbox, dateCheckbox, dateTime);\r\n    setTimestampFormat(txt);\r\n    updateCanvas(stampTextInputValue, txt);\r\n  };\r\n\r\n  const handleFontChange = (font) => {\r\n    updateCanvas(stampTextInputValue, timestampFormat, {\r\n      ...state,\r\n      font,\r\n    });\r\n  };\r\n\r\n  const onDateFormatChange = (newFormat) => {\r\n    setDateTime(newFormat);\r\n    const txt = updateTimestampLabel(usernameCheckbox, (dateCheckbox || timeCheckbox), newFormat);\r\n    setTimestampFormat(txt);\r\n    updateCanvas(stampTextInputValue, txt);\r\n  };\r\n\r\n  const handleRichTextStyleChange = (style) => {\r\n    updateCanvas(stampTextInputValue, timestampFormat, {\r\n      ...state,\r\n      [style]: !state[style],\r\n    });\r\n  };\r\n\r\n  const toggleBold = () => handleRichTextStyleChange('bold');\r\n  const toggleItalic = () => handleRichTextStyleChange('italic');\r\n  const toggleStrikeout = () => handleRichTextStyleChange('strikeout');\r\n  const toggleUnderline = () => handleRichTextStyleChange('underline');\r\n\r\n  const stampInputLabel = t('option.customStampModal.stampText');\r\n\r\n  const getHexColor = (givenColor) => {\r\n    if (givenColor && givenColor.A) {\r\n      return givenColor.toHexString().toLowerCase();\r\n    }\r\n    return '#000000';\r\n  };\r\n  const openPicker = (addNew, type) => {\r\n    const isText = type === 'text';\r\n    openColorPicker();\r\n    const handleVisiblityChanged = (e) => {\r\n      const { element, isVisible } = e.detail;\r\n      if (element === 'ColorPickerModal' && !isVisible) {\r\n        const color = getCustomColorAndRemove();\r\n        if (color) {\r\n          const colorToBeAdded = getHexColor(color);\r\n          isText ? setTextColor(colorToBeAdded) : setBackgroundColor(colorToBeAdded);\r\n          const toolColors = window.Core.Tools.RubberStampCreateTool[isText ? 'TEXT_COLORS' : 'FILL_COLORS'];\r\n          toolColors.push(colorToBeAdded);\r\n          isText ? setTextColors(toolColors) : setBackgroundColors(toolColors);\r\n          state = {\r\n            ...state,\r\n            [isText ? 'textColor' : 'color']: colorToBeAdded,\r\n          };\r\n          updateCanvas(stampTextInputValue, timestampFormat, state);\r\n        }\r\n      }\r\n      getInstanceNode().instance.UI.removeEventListener(Events.VISIBILITY_CHANGED, handleVisiblityChanged);\r\n    };\r\n    getInstanceNode().instance.UI.addEventListener(Events.VISIBILITY_CHANGED, handleVisiblityChanged);\r\n  };\r\n  const deleteColor = (type) => {\r\n    const isText = type === 'text';\r\n    openDeleteModal(() => {\r\n      const newColors = isText ?\r\n        textColors.filter((color) => color !== textColorToBeDeleted) :\r\n        backgroundColors.filter((color) => color !== backgroundColorToBeDeleted);\r\n      isText ? setTextColors(newColors) : setBackgroundColors(newColors);\r\n      isText ? setTextColorToBeDeleted(null) : setBackgroundColorToBeDeleted(null);\r\n      window.Core.Tools.RubberStampCreateTool[isText ? 'TEXT_COLORS' : 'FILL_COLORS'] = newColors;\r\n    });\r\n  };\r\n\r\n  const [backgroundColors, setBackgroundColors] = useState(window.Core.Tools.RubberStampCreateTool['FILL_COLORS']);\r\n  const [backgroundColor, setBackgroundColor] = useState(state.color || window.Core.Tools.RubberStampCreateTool['FILL_COLORS'][0]);\r\n  const [backgroundColorToBeDeleted, setBackgroundColorToBeDeleted] = useState(null);\r\n\r\n  const [textColors, setTextColors] = useState(window.Core.Tools.RubberStampCreateTool['TEXT_COLORS']);\r\n  const [textColor, setTextColor] = useState(window.Core.Tools.RubberStampCreateTool['TEXT_COLORS'][0]);\r\n  const [textColorToBeDeleted, setTextColorToBeDeleted] = useState(null);\r\n\r\n  const openColorPickerText = (addNew) => openPicker(addNew, 'text');\r\n  const handleTextColorChange = (newColor) => {\r\n    setTextColor(newColor);\r\n    state = {\r\n      ...state,\r\n      textColor: newColor,\r\n    };\r\n    updateCanvas(stampTextInputValue, timestampFormat, state);\r\n  };\r\n  const handleTextColorDelete = () => deleteColor('text');\r\n\r\n  const openColorPickerBackground = (addNew) => openPicker(addNew, 'fill');\r\n  const handleBackgroundColorChange = (newColor) => {\r\n    setBackgroundColor(newColor);\r\n    state = {\r\n      ...state,\r\n      color: newColor,\r\n    };\r\n    updateCanvas(stampTextInputValue, timestampFormat, state);\r\n  };\r\n  const handleBackgroundColorDelete = () => deleteColor('fill');\r\n\r\n  const formatsList = dateTimeFormats || [FALLBACK_DATE_TIME_FORMAT];\r\n  const dateTimeDropdownItems = Array.from(new Set(\r\n    formatsList.map((format) => dateTimeFormatToString(format, dateCheckbox, timeCheckbox))\r\n  )).filter((format) => format !== '');\r\n\r\n  return (\r\n    <div className=\"text-customstamp\">\r\n      <div className=\"canvas-container\" ref={canvasContainerRef}>\r\n        <canvas\r\n          className=\"custom-stamp-canvas\"\r\n          ref={canvasRef}\r\n        />\r\n      </div>\r\n      <div className=\"scroll-container\">\r\n        <div className=\"stamp-input-container\">\r\n          <div className=\"stamp-label\"> {stampInputLabel} </div>\r\n          <input\r\n            className=\"text-customstamp-input\"\r\n            ref={inputRef}\r\n            type=\"text\"\r\n            aria-label={stampInputLabel.substring(0, stampInputLabel.length - 1)}\r\n            value={stampTextInputValue}\r\n            onChange={handleInputChange}\r\n          />\r\n          {\r\n            !stampTextInputValue\r\n            && (\r\n              <div className=\"empty-stamp-input\">\r\n                {t('message.emptyCustomStampInput')}\r\n              </div>\r\n            )\r\n          }\r\n        </div>\r\n        <div className=\"font-container\">\r\n          <div className=\"stamp-sublabel\"> {t('option.customStampModal.fontStyle')} </div>\r\n          <div className=\"font-inner-container\">\r\n            <Dropdown\r\n              items={fonts}\r\n              onClickItem={handleFontChange}\r\n              currentSelectionKey={state.font || fonts[0]}\r\n              getCustomItemStyle={(item) => ({ fontFamily: item })}\r\n            />\r\n            <Button\r\n              dataElement=\"stampTextBoldButton\"\r\n              onClick={toggleBold}\r\n              img=\"icon-menu-bold\"\r\n              title=\"option.richText.bold\"\r\n              isActive={state.bold}\r\n            />\r\n            <Button\r\n              dataElement=\"stampTextItalicButton\"\r\n              onClick={toggleItalic}\r\n              img=\"icon-menu-italic\"\r\n              title=\"option.richText.italic\"\r\n              isActive={state.italic}\r\n            />\r\n            <Button\r\n              dataElement=\"stampTextUnderlineButton\"\r\n              onClick={toggleUnderline}\r\n              img=\"icon-menu-text-underline\"\r\n              title=\"option.richText.underline\"\r\n              isActive={state.underline}\r\n            />\r\n            <Button\r\n              dataElement=\"stampTextStrikeoutButton\"\r\n              onClick={toggleStrikeout}\r\n              img=\"icon-tool-text-manipulation-strikethrough\"\r\n              title=\"option.richText.strikeout\"\r\n              isActive={state.strikeout}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"color-container\">\r\n          <div className=\"stamp-sublabel\">{t('option.customStampModal.textColor')}</div>\r\n          <div className=\"colorpalette-container\">\r\n            <ColorPalettePicker\r\n              getHexColor={getHexColor}\r\n              color={textColor}\r\n              setColorToBeDeleted={setTextColorToBeDeleted}\r\n              colorToBeDeleted={textColorToBeDeleted}\r\n              customColors={textColors}\r\n              onStyleChange={setTextColor}\r\n              handleColorOnClick={handleTextColorChange}\r\n              handleOnClick={handleTextColorChange}\r\n              openColorPicker={openColorPickerText}\r\n              openDeleteModal={handleTextColorDelete}\r\n              disableTitle\r\n              enableEdit\r\n              colorsAreHex\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"color-container\">\r\n          <div className=\"stamp-sublabel\">{t('option.customStampModal.backgroundColor')}</div>\r\n          <div className=\"colorpalette-container\">\r\n            <ColorPalettePicker\r\n              getHexColor={getHexColor}\r\n              color={backgroundColor}\r\n              setColorToBeDeleted={setBackgroundColorToBeDeleted}\r\n              colorToBeDeleted={backgroundColorToBeDeleted}\r\n              customColors={backgroundColors}\r\n              onStyleChange={setBackgroundColor}\r\n              handleColorOnClick={handleBackgroundColorChange}\r\n              handleOnClick={handleBackgroundColorChange}\r\n              openColorPicker={openColorPickerBackground}\r\n              openDeleteModal={handleBackgroundColorDelete}\r\n              disableTitle\r\n              enableEdit\r\n              colorsAreHex\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"timestamp-container\">\r\n          <div className=\"stamp-sublabel\"> {t('option.customStampModal.timestampText')} </div>\r\n          <div className=\"timeStamp-choice\">\r\n            <Choice\r\n              id=\"default-username\"\r\n              checked={usernameCheckbox}\r\n              onChange={handleUsernameCheckbox}\r\n              label={t('option.customStampModal.Username')}\r\n            />\r\n            <Choice\r\n              id=\"default-date\"\r\n              checked={dateCheckbox}\r\n              onChange={handleDateCheckboxChange}\r\n              label={t('option.customStampModal.Date')}\r\n            />\r\n            <Choice\r\n              id=\"default-time\"\r\n              checked={timeCheckbox}\r\n              onChange={handleTimeCheckboxChange}\r\n              label={t('option.customStampModal.Time')}\r\n            />\r\n          </div>\r\n        </div>\r\n        {(dateCheckbox || timeCheckbox) && <div className=\"date-format-container\">\r\n          <div className=\"stamp-sublabel\">{t('option.customStampModal.dateFormat')}</div>\r\n          <div className=\"hover-icon\">\r\n            <Icon glyph=\"icon-info\"/>\r\n            <div className=\"date-format-description\">\r\n              <div className=\"date-format-cell\">M = {t('option.customStampModal.month')}</div>\r\n              <div className=\"date-format-cell\">D = {t('option.customStampModal.day')}</div>\r\n              <div className=\"date-format-cell\">Y = {t('option.customStampModal.year')}</div>\r\n              <div className=\"date-format-cell\">H = {t('option.customStampModal.hour')} (24hr)</div>\r\n              <div className=\"date-format-cell\">h = {t('option.customStampModal.hour')} (12hr)</div>\r\n              <div className=\"date-format-cell\">m = {t('option.customStampModal.minute')}</div>\r\n              <div className=\"date-format-cell\">s = {t('option.customStampModal.second')}</div>\r\n              <div className=\"date-format-cell\">A = AM/PM</div>\r\n            </div>\r\n          </div>\r\n          <Dropdown\r\n            items={dateTimeDropdownItems}\r\n            currentSelectionKey={dateTime}\r\n            onClickItem={onDateFormatChange}\r\n          />\r\n        </div>}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nCustomStampForums.propTypes = propTypes;\r\n\r\nexport default CustomStampForums;\r\n","import React, { useEffect, useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useSelector, useDispatch, useStore } from 'react-redux';\r\nimport { FocusTrap } from '@pdftron/webviewer-react-toolkit';\r\nimport core from 'core';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport { useTranslation } from 'react-i18next';\r\nimport CustomStampForums from './CustomStampForums';\r\nimport Button from 'components/Button';\r\nimport DataElements from 'constants/dataElement';\r\n\r\nimport './CreateStampModal.scss';\r\n\r\nconst TOOL_NAME = 'AnnotationCreateRubberStamp';\r\nconst fillColors = window.Core.Tools.RubberStampCreateTool['FILL_COLORS'];\r\n\r\nconst CustomStampModal = () => {\r\n  const [state, setState] = useState({ font: 'Helvetica', bold: true, color: fillColors[0] });\r\n  const stampToolArray = core.getToolsFromAllDocumentViewers(TOOL_NAME);\r\n  const [t] = useTranslation();\r\n  const store = useStore();\r\n  const [emptyInput, setEmptyInput] = useState(false);\r\n  const [isOpen, fonts, dateTimeFormats, userName] = useSelector((state) => [\r\n    selectors.isElementOpen(state, DataElements.CUSTOM_STAMP_MODAL),\r\n    selectors.getFonts(state),\r\n    selectors.getDateTimeFormats(state),\r\n    selectors.getUserName(state),\r\n  ]);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      core.deselectAllAnnotations();\r\n    }\r\n  }, [isOpen]);\r\n\r\n  const closeModal = () => {\r\n    dispatch(actions.closeElement(DataElements.CUSTOM_STAMP_MODAL));\r\n  };\r\n\r\n  const openColorPicker = () => {\r\n    dispatch(actions.openElement('ColorPickerModal'));\r\n  };\r\n\r\n  const getCustomColorAndRemove = () => {\r\n    const customColor = selectors.getCustomColor(store.getState());\r\n    dispatch(actions.setCustomColor(null));\r\n    return customColor;\r\n  };\r\n\r\n  const openDeleteModal = async (onConfirm) => {\r\n    const message = t('warning.colorPicker.deleteMessage');\r\n    const title = t('warning.colorPicker.deleteTitle');\r\n    const confirmBtnText = t('action.ok');\r\n\r\n    const warning = {\r\n      message,\r\n      title,\r\n      confirmBtnText,\r\n      onConfirm,\r\n    };\r\n    dispatch(actions.showWarningMessage(warning));\r\n  };\r\n\r\n  const modalClass = classNames({\r\n    Modal: true,\r\n    CustomStampModal: true,\r\n    open: isOpen,\r\n    closed: !isOpen,\r\n  });\r\n\r\n  const createCustomStamp = async () => {\r\n    core.setToolMode(TOOL_NAME);\r\n    for (const stampTool of stampToolArray) {\r\n      stampTool.addCustomStamp(state);\r\n      const annot = await stampTool.createCustomStampAnnotation(state);\r\n      await stampTool.setRubberStamp(annot);\r\n      stampTool.showPreview();\r\n    }\r\n    dispatch(actions.closeElement(DataElements.CUSTOM_STAMP_MODAL));\r\n    const standardStampCount = stampToolArray[0].getStandardStamps().length;\r\n    const customStampCount = stampToolArray[0].getCustomStamps().length;\r\n    dispatch(actions.setSelectedStampIndex(standardStampCount + customStampCount - 1));\r\n  };\r\n\r\n  return (\r\n    isOpen ?\r\n      <div\r\n        className={modalClass}\r\n        data-element={DataElements.CUSTOM_STAMP_MODAL}\r\n      >\r\n        <FocusTrap locked={isOpen}>\r\n          <div className=\"container\" onMouseDown={(e) => e.stopPropagation()}>\r\n            <div className=\"header\">\r\n              <p>{t('option.customStampModal.modalName')}</p>\r\n              <Button\r\n                dataElement=\"customStampModalCloseButton\"\r\n                title=\"action.close\"\r\n                img=\"ic_close_black_24px\"\r\n                onClick={closeModal}\r\n              />\r\n            </div>\r\n            <CustomStampForums\r\n              openDeleteModal={openDeleteModal}\r\n              getCustomColorAndRemove={getCustomColorAndRemove}\r\n              openColorPicker={openColorPicker}\r\n              isModalOpen={isOpen}\r\n              state={state}\r\n              setState={setState}\r\n              closeModal={closeModal}\r\n              setEmptyInput={setEmptyInput}\r\n              fonts={fonts}\r\n              dateTimeFormats={dateTimeFormats}\r\n              stampTool={stampToolArray[0]}\r\n              userName={userName}\r\n            />\r\n            <div className=\"footer\">\r\n              <div\r\n                className={\r\n                  emptyInput\r\n                    ? 'stamp-create stamp-create-disabled'\r\n                    : 'stamp-create'\r\n                }\r\n                onClick={\r\n                  () => {\r\n                    if (emptyInput) {\r\n                      return;\r\n                    }\r\n                    createCustomStamp();\r\n                  }\r\n                }\r\n              >\r\n                {t('action.create')}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </FocusTrap>\r\n      </div>\r\n      :\r\n      null\r\n  );\r\n};\r\n\r\nexport default CustomStampModal;\r\n","import CreateStampModal from './CreateStampModal';\r\n\r\nexport default CreateStampModal;\r\n"],"sourceRoot":""}