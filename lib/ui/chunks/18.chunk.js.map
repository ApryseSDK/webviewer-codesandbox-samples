{"version":3,"sources":["webpack:///./src/ui/src/components/SignatureModal/InkSignature/InkSignature.scss?a37a","webpack:///./src/ui/src/components/SignatureModal/InkSignature/InkSignature.scss","webpack:///./src/ui/src/components/SignatureModal/TextSignature/TextSignature.scss?b9ce","webpack:///./src/ui/src/components/SignatureModal/TextSignature/TextSignature.scss","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/ImageSignature.scss?c14f","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/ImageSignature.scss","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/SavedSignatures.scss?d722","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/SavedSignatures.scss","webpack:///./src/ui/src/components/SignatureModal/SignatureModal.scss?e1c7","webpack:///./src/ui/src/components/SignatureModal/SignatureModal.scss","webpack:///./src/ui/src/components/SignatureModal/InkSignature/InkSignature.js","webpack:///./src/ui/src/components/SignatureModal/InkSignature/index.js","webpack:///./src/ui/src/helpers/cropImageFromCanvas.js","webpack:///./src/ui/src/components/SignatureModal/TextSignature/TextSignature.js","webpack:///./src/ui/src/components/SignatureModal/TextSignature/index.js","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/ImageSignature.js","webpack:///./src/ui/src/components/SignatureModal/ImageSignature/index.js","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/SavedSignatures.js","webpack:///./src/ui/src/components/SignatureModal/SavedSignatures/index.js","webpack:///./src/ui/src/components/SignatureModal/SignatureModal.js","webpack:///./src/ui/src/components/SignatureModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","webComponents","document","getElementsByTagName","length","clonedStyleTags","webComponent","shadowRoot","appendChild","onload","forEach","styleNode","innerHTML","cloneNode","push","head","exports","locals","propTypes","isModalOpen","PropTypes","bool","isTabPanelSelected","disableCreateButton","func","enableCreateButton","isInitialsModeEnabled","InkSignature","setIt","fullSignatureCanvas","useRef","initialsCanvas","fullSignaturePathsRef","initialsPathsRef","t","useTranslation","useState","dimension","setDimension","fullSignatureDrawn","setFullSignatureDrawn","initialsDrawn","setInitialsDrawn","forceUpdate","it","useEffect","signatureTool","core","getTool","canvas","current","setSignatureCanvas","multiplier","window","Core","getCanvasMultiplier","getContext","scale","secondCanvas","setInitialsCanvas","clearFullSignatureCanvas","clearInitialsCanvas","signatureToolArray","getToolsFromAllDocumentViewers","setSignature","setInitials","resizeCanvas","SignatureModes","FULL_SIGNATURE","INITIALS","resizeFullSignatureCanvas","resizeInitialsCanvas","height","width","resizeCanvasAsyncCall","useCallback","clearSignatureCanvas","handleFinishDrawingFullSignature","isEmptySignature","deepCopy","getFullSignatureAnnotation","getPaths","handleFinishDrawingInitials","getInitialsAnnotation","paths","pathsCopy","j","Math","Point","x","y","toolStyles","defaults","initialsContainerStyle","display","bounds","onResize","measureRef","className","ref","onSwiping","event","stopPropagation","onMouseUp","onTouchEnd","onMouseLeave","onClick","disabled","style","Dropdown","placeholder","ColorPalette","color","property","onStyleChange","value","setToolStyles","StrokeColor","handleColorInputChange","overridePalette2","cropImageFromCanvas","index","ctx","pixels","imageData","getImageData","data","sort","a","b","n","cut","putImageData","toDataURL","CANVAS_MULTIPLIER","parseInitialsFromFullSignature","fullSiganture","split","map","join","toUpperCase","getSignatureLength","text","fontSize","fontFamily","font","textSpan","createElement","id","visibility","rootNode","getRootNode","isApryseWebViewerWebComponent","textContent","signatureWidth","getBoundingClientRect","remove","scaleFontSize","currentFontSize","minFontSize","maxFontSize","FONT_SIZE","floor","measurementReference","overrideMultiplier","max","setFontInCanvas","selectedFontFamily","fontColor","fillStyle","textAlign","textBaseline","drawTextInCanvas","clearRect","fillText","TextSignature","fonts","useSelector","state","selectors","getSignatureFonts","textSignatureCanvasMultiplier","getTextSignatureQuality","fullSignature","setFullSiganture","initials","isDefaultValue","setIsDefaultValue","Annotations","Color","setFontColor","setFontSize","inputRef","fullSignatureHiddenCanvasRef","initialsHiddenCanvasRef","hiddenFullSignatureRef","hiddenInitialsRef","setSelectedFontFamily","includes","setInitialsInTool","currentUser","getDisplayAuthor","getCurrentUser","focus","isIOS","setSelectionRange","select","onUpdateAnnotationPermission","addEventListener","removeEventListener","trim","base64","tool","handleDropdownSelectionChange","newFontSize","isDisabled","initialsInputStyle","type","onChange","e","target","replace","toHexString","classNames","items","getCustomItemStyle","item","getKey","getDisplayValue","onClickItem","currentSelectionKey","maxHeight","isMobile","dataElement","signatureType","acceptedFileTypes","acceptedFileSize","readImageFile","file","Promise","resolve","reject","fileReader","FileReader","imageSource","result","some","indexOf","fileSize","size","i18next","readAsDataURL","ImageSignature","fullSignatureImage","setFullSignatureImage","fullSignatureFileSize","setFullSignatureFileSize","initialsImage","setInitialsImage","initialsFileSize","setInitialsFileSize","draggingSignatureType","setDraggingSignatureType","fullSignatureErrorMessage","setFullSignatureErrorMessage","initialsErrorMessage","setInitialsErrorMessage","fullSignatureInputRef","initialsInputRef","handleFullSignatureFileChange","readFullSignatureFile","files","handleInitialsFileChange","readInitialsFile","handleDragEnter","preventDefault","handleDragOver","handleDragLeave","parentNode","contains","relatedTarget","handleDragExit","handleFullSignatureFileDrop","dataTransfer","handleInitialsFileDrop","handleFullSignatureDragEnter","handleFullSignatureDragLeave","handleInitialsDragEnter","handleInitialsDragLeave","renderPrompt","hasLimit","fullSignatureFileSizeCheck","initialsFileSizeCheck","fullSignatureContainerClass","mobile","dragging","initialsContainerClass","src","maxWidth","onDragEnter","onDragLeave","onDragOver","onDrop","onDragExit","accept","click","SavedSignatures","selectedIndex","setSelectedIndex","dispatch","useDispatch","getDisplayedSignatures","getSelectedDisplayedSignatureIndex","isElementDisabled","getSavedInitials","getSelectedDisplayedInitialsIndex","getSignatureMode","getInitialsOffset","displayedSignatures","selectedDisplayedSignatureIndex","isSignatureDeleteButtonDisabled","savedInitials","selectedDisplayedInitialsIndex","signatureMode","initialsOffset","deleteSignatureAndInitials","isFullSignature","skipInitial","initialsIndex","actions","setInitialsOffset","deleteSavedInitials","setSelectedDisplayedInitialsIndex","hidePreview","setToolMode","defaultTool","deleteSavedSignature","setSelectedDisplayedSignatureIndex","displayedIntials","Array","concat","empty","signature","key","active","checked","alt","imgSrc","data-element","Icon","glyph","SignatureModal","DataElements","SIGNATURE_MODAL","isElementOpen","getActiveToolName","getActiveDocumentViewerKey","getIsInitialsModeEnabled","SAVED_SIGNATURES_TAB","getSelectedTab","isOpen","activeToolName","activeDocumentViewerKey","isSavedTabDisabled","selectedTab","createButtonDisabled","setCreateButtonDisabled","useDidUpdate","closeElements","SIGNATURE_OVERLAY","PRINT_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","closeModal","clearLocation","closeElement","createSignatures","createFullSignature","createInitials","saveSignatures","hasLocation","addSignature","showPreview","saveInitials","isEmptyInitialsSignature","addInitials","showInitialsPreview","setSignatureMode","annotation","modalClass","Modal","open","closed","isSavedTabSelected","onSwipedUp","onSwipedDown","preventDefaultTouchmoveEvent","FocusTrap","locked","onMouseDown","Tabs","Button","title","img"],"mappings":"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","file":"chunks/18.chunk.js","sourcesContent":["var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./InkSignature.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.ink-signature{width:100%;height:100%;padding:16px}.ink-signature-canvas-container{display:flex;flex-direction:column;background:var(--signature-draw-background);border-radius:4px;border:1px solid var(--modal-stroke-and-border);padding:8px;height:200px}.ink-signature-canvas-container.full-signature{flex:1.5 0 0}.ink-signature-canvas-container.initials{flex:1 0 0}.ink-signature .ink-signature-canvas{height:144px;border-bottom:1px solid var(--modal-stroke-and-border)}@media(max-height:500px){.App:not(.is-web-component) .ink-signature .ink-signature-canvas{height:116px}}@container (max-height: 500px){.App.is-web-component .ink-signature .ink-signature-canvas{height:116px}}@media(max-height:320px){.App:not(.is-web-component) .ink-signature .ink-signature-canvas{height:86px}}@container (max-height: 320px){.App.is-web-component .ink-signature .ink-signature-canvas{height:86px}}.ink-signature-canvas{z-index:1;width:inherit;height:inherit;cursor:crosshair}.ink-signature-footer{display:flex;flex-direction:row;border-top:1px solid var(--modal-stroke-and-border);padding-top:7px}.ink-signature-sign-here{color:var(--faded-text);height:48px;text-align:center;font-size:10px;flex:2 0 0}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.ink-signature-sign-here{left:44.5%}}.ink-signature .canvas-colorpalette-container{padding:0;box-sizing:border-box;display:flex;flex-direction:column}.ink-signature .colorpalette-clear-container{display:flex;height:44px;justify-content:space-between}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./TextSignature.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.text-signature{width:100%;height:100%;padding:16px}.text-signature canvas{display:none}.text-signature-input{outline:none;width:100%;background:transparent;border:none;border-bottom:1px solid var(--modal-stroke-and-border);border-radius:0;text-align:center;height:85px}@media(max-height:500px){.App:not(.is-web-component) .text-signature-input{font-size:42px!important;height:50px}}@container (max-height: 500px){.App.is-web-component .text-signature-input{font-size:42px!important;height:50px}}@media(max-height:320px){.App:not(.is-web-component) .text-signature-input{font-size:34px!important}}@container (max-height: 320px){.App.is-web-component .text-signature-input{font-size:34px!important}}.text-signature-input:focus{border:none;border-bottom:1px solid var(--modal-stroke-and-border)}.text-signature-inner-container{position:absolute;height:100%;min-width:100%}.text-signature-text{display:flex;align-items:center;background:var(--signature-draw-background);white-space:nowrap;border-radius:4px;padding:0 8px;margin-top:10px;overflow-y:auto;flex-grow:1;visibility:hidden;position:fixed}.text-signature-text:hover{cursor:pointer}.text-signature-text .text-container{margin:auto;padding:0 20px}.text-signature label{margin-top:60px;width:100%}.text-signature .Dropdown__items{top:unset!important}.text-signature .Dropdown__items [data-testid=sig-no-result]{font-size:13px!important}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./ImageSignature.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.image-signature{width:100%;height:100%;padding:16px}@media(max-height:500px){.App:not(.is-web-component) .image-signature{height:192px}}@container (max-height: 500px){.App.is-web-component .image-signature{height:192px}}@media(max-height:320px){.App:not(.is-web-component) .image-signature{height:162px}}@container (max-height: 320px){.App.is-web-component .image-signature{height:162px}}.image-signature .image-signature-modal-overlay{position:absolute;width:100%;height:480px;background:transparent;z-index:9999;left:0;top:-100px}.image-signature-image-container{width:100%;height:100%;display:flex;justify-content:center;align-items:center}.image-signature-image-container img{max-height:100%;max-width:100%;width:auto;height:auto}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.image-signature-image-container img{flex-grow:1;flex-basis:0}}.image-signature-image-container .Button{position:absolute;bottom:0;right:0}.image-signature .mobile{background:var(--signature-draw-background);border:1px solid var(--modal-stroke-and-border)}.image-signature-upload-container{position:relative;border-radius:4px;border:1px dashed var(--modal-stroke-and-border);display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:100%}.image-signature-upload-container.dragging{background:var(--image-signature-drop-background);border:1px dashed var(--image-signature-drop-border)}.image-signature-dnd,.image-signature-separator{color:var(--faded-text)}.image-signature-upload input[type=file]{display:none}.image-signature-upload .pick-image-button{font-weight:700;height:24px;border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);display:flex;align-items:center;padding:0 11px;cursor:pointer}.image-signature-upload .pick-image-button:hover{border:1px solid var(--primary-button-hover);color:var(--primary-button-hover)}.image-signature-separator{margin:10px}.image-signature-error{position:absolute;color:red;bottom:0;right:0;margin:0 5px 5px 0}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./SavedSignatures.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \":host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SavedSignatures{width:100%;height:276px;padding:16px;overflow-y:auto;display:flex;grid-gap:16px;gap:16px;flex-direction:column}@media(max-height:500px){.App:not(.is-web-component) .SavedSignatures{height:192px}}@container (max-height: 500px){.App.is-web-component .SavedSignatures{height:192px}}@media(max-height:320px){.App:not(.is-web-component) .SavedSignatures{height:162px}}@container (max-height: 320px){.App.is-web-component .SavedSignatures{height:162px}}.SavedSignatures .signature-row{display:flex;flex-direction:column;justify-content:center;height:25%;width:100%}.SavedSignatures .signature-row .inputContainer{width:100%;display:grid;grid-gap:8px;gap:8px;align-items:center;grid-template-columns:20px 1fr}.SavedSignatures .signature-row .inputContainer input{width:16px;height:16px}.SavedSignatures .signature-row .inputContainer .contentContainer{padding-bottom:4px;margin-bottom:4px;border-bottom:1px solid var(--gray-5);display:grid;align-items:center;grid-template-columns:1fr 1fr 1fr}.SavedSignatures .signature-row .inputContainer .contentContainer .icon-button{justify-self:end}.SavedSignatures .signature-row .inputContainer .contentContainer .radioButton{border-radius:100px;border:1px solid var(--blue-5);width:16px;height:16px;border-spacing:2px}.SavedSignatures .signature-row .inputContainer .contentContainer .radioButton.selected{background-color:var(--blue-5)}.SavedSignatures .signature-row .inputContainer .contentContainer .imgContainer{width:162px;height:26px}.SavedSignatures .signature-row .inputContainer .contentContainer .imgContainer img{max-width:100%;max-height:100%}.SavedSignatures .signature-row .labelContainer{display:grid;grid-template-columns:1fr 2fr;padding-left:28px;color:var(--gray-7)}.SavedSignatures .signature-row.no-initials .contentContainer{grid-template-columns:1fr 2fr}.SavedSignatures .emptyListContainer{height:100%;display:flex;align-items:center;justify-content:center;text-align:center}.SavedSignatures.empty{grid-template-rows:1fr}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./SignatureModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.SignatureModal{visibility:visible}.closed.SignatureModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.SignatureModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.SignatureModal .modal-container .wrapper .modal-content{padding:10px}.SignatureModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.SignatureModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.SignatureModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.SignatureModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.SignatureModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.SignatureModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.SignatureModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.SignatureModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.SignatureModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.SignatureModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .footer .modal-button{padding:23px 8px}}.SignatureModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .swipe-indicator{display:none}}.SignatureModal .container{box-shadow:0 0 3px 0 var(--document-box-shadow);overflow-y:auto;max-height:100%}@media(max-height:500px){.App:not(.is-web-component) .SignatureModal .container,.SignatureModal .App:not(.is-web-component) .container{overflow:auto;max-height:100%}}@container (max-height: 500px){.App.is-web-component .SignatureModal .container,.SignatureModal .App.is-web-component .container{overflow:auto;max-height:100%}}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .container,.SignatureModal .App:not(.is-in-desktop-only-mode):not(.is-web-component) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .container,.SignatureModal .App.is-web-component:not(.is-in-desktop-only-mode) .container{width:100%;position:fixed;left:0;bottom:0;padding-top:4px;min-width:100px}}.SignatureModal .container .tab-list{width:100%;height:28px;display:flex;border-radius:4px;border:1px solid var(--border);color:var(--text-color)}.SignatureModal .container .tab-list .tab-options-button{text-align:center;vertical-align:middle;line-height:24px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;flex:1;border-radius:0;cursor:pointer}.SignatureModal .container .tab-list .tab-options-button:first-child{border-bottom-left-radius:4px;border-top-left-radius:4px}.SignatureModal .container .tab-list .tab-options-button:last-child{border-bottom-right-radius:4px;border-top-right-radius:4px}.SignatureModal .container .tab-list .tab-options-button:hover{background:var(--popup-button-hover)}.SignatureModal .container .tab-list .tab-options-button.selected{background:var(--popup-button-active);cursor:default}.SignatureModal .container .tab-list .tab-options-divider{width:1px;background:var(--divider)}.SignatureModal .container .tab-panel{width:100%;display:flex;flex-direction:column;align-items:center}.SignatureModal .container{display:flex;flex-direction:column;justify-content:space-between;width:480px;padding:0;border-radius:4px;box-shadow:0 0 3px var(--document-box-shadow);background:var(--component-background)}.SignatureModal .container.include-initials{width:664px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .container{border-radius:0;height:440px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .container{border-radius:0;height:440px}}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .container{display:grid;height:100%;position:fixed;top:0;grid-template-rows:100px auto 70px;justify-content:normal}}@container (max-height: 320px){.App.is-web-component .SignatureModal .container{display:grid;height:100%;position:fixed;top:0;grid-template-rows:100px auto 70px;justify-content:normal}}.SignatureModal .container .header-container{box-shadow:inset 0 -1px 0 var(--modal-stroke-and-border);padding:20px 16px 16px}.SignatureModal .container .header{margin:0;display:flex;align-items:center;width:100%;height:24px}.SignatureModal .container .header p{font-size:16px;font-weight:700;width:89.286%;margin:0 16px 0 0}.SignatureModal .container .header .signatureModalCloseButton{position:static;height:32px;width:32px}.SignatureModal .container .header .signatureModalCloseButton:hover{background:var(--view-header-button-hover);border-radius:4px}.SignatureModal .container .header .signatureModalCloseButton.selected{background:var(--view-header-button-active);cursor:default}.SignatureModal .container .StylePopup{border-radius:0;box-shadow:none}.SignatureModal .container .tab-panel{overflow-y:auto}.SignatureModal .container .tab-list{font-size:14px;margin-top:12px}.SignatureModal .container .tab-list .tab-options-button{padding:0;border:none;background-color:transparent}:host(:not([data-tabbing=true])) .SignatureModal .container .tab-list .tab-options-button,html:not([data-tabbing=true]) .SignatureModal .container .tab-list .tab-options-button{outline:none}.SignatureModal .container .signature-style-options{width:90%;display:flex}.SignatureModal .container .signature-style-options .ColorPalette{margin:8px;grid-template-columns:repeat(3,1fr);width:100px}.SignatureModal .container .signature-style-options .ColorPalette :not(:last-child){margin-right:8px}.SignatureModal .container .signature-style-options .ColorPalette .cell-container{width:28px;height:28px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .container .signature-style-options .ColorPalette .cell-container{width:22px;height:22px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .container .signature-style-options .ColorPalette .cell-container{width:22px;height:22px}}.SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:16px;height:16px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:14px;height:14px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer .cell{width:14px;height:14px}}.SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:28px;height:28px}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:22px;height:22px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .container .signature-style-options .ColorPalette .cell-container .cell-outer.active{width:22px;height:22px}}.SignatureModal .container .signature-clear{background-color:transparent;color:var(--secondary-button-text);padding:0 16px;display:flex;align-items:center;justify-content:center;cursor:pointer;border:none;height:28px;width:63px;margin:auto 8px;font-size:13px}:host(:not([data-tabbing=true])) .SignatureModal .container .signature-clear,html:not([data-tabbing=true]) .SignatureModal .container .signature-clear{outline:none}.SignatureModal .container .signature-clear:enabled:hover{color:var(--secondary-button-hover)}.SignatureModal .container .signature-clear:disabled{opacity:.5}.SignatureModal .container .footer{display:flex;padding:16px;align-items:center;justify-content:flex-end;width:100%;box-shadow:inset 0 1px 0 var(--modal-stroke-and-border);margin:0}.SignatureModal .container .footer .signature-create{border:none;background-color:transparent;background:var(--primary-button);border-radius:4px;padding:0 8px;height:32px;width:72px;display:flex;align-items:center;justify-content:center;position:relative;color:var(--primary-button-text);cursor:pointer}:host(:not([data-tabbing=true])) .SignatureModal .container .footer .signature-create,html:not([data-tabbing=true]) .SignatureModal .container .footer .signature-create{outline:none}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .SignatureModal .container .footer .signature-create{font-size:13px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .SignatureModal .container .footer .signature-create{font-size:13px}}.SignatureModal .container .footer .signature-create:enabled:hover{background:var(--primary-button-hover)}.SignatureModal .container .footer .signature-create:disabled{opacity:.5}.SignatureModal .colorpalette-clear-container{display:flex;height:44px;box-sizing:border-box;justify-content:space-between;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.SignatureModal .colorpalette-clear-container .signature-style-options{width:90%;display:flex}.SignatureModal .colorpalette-clear-container .signature-style-options .divider{display:inline-block;border-left:1px solid var(--modal-stroke-and-border);margin:auto 8px auto 16px;height:16px}.SignatureModal .colorpalette-clear-container .signature-style-options .placeholder-dropdown{width:160px;height:31px;margin:auto 0}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper{width:160px;height:31px;position:absolute;margin:6px 0 auto}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown{width:100%!important;height:100%;text-align:left}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .picked-option-text{margin-right:-18px;padding-left:2px;font-size:15px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .arrow{flex:unset}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items{bottom:auto;top:100%;width:100%;left:0;right:auto}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(n){font-size:15px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(2){font-size:13px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__items button:nth-child(4){font-size:18px}.SignatureModal .colorpalette-clear-container .signature-style-options .Dropdown__wrapper .Dropdown__item{display:block;padding-right:16px;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;text-align:left}.SignatureModal .footer-signature-clear{padding:0;background-color:transparent;color:var(--secondary-button-text);display:flex;flex:0 0 0;align-items:baseline;justify-content:center;cursor:pointer;border:none;height:28px;width:63px;font-size:13px}:host(:not([data-tabbing=true])) .SignatureModal .footer-signature-clear,html:not([data-tabbing=true]) .SignatureModal .footer-signature-clear{outline:none}.SignatureModal .footer-signature-clear:enabled:hover{color:var(--secondary-button-hover)}.SignatureModal .footer-signature-clear:disabled{opacity:.5}.SignatureModal .signature-input{background:var(--signature-draw-background);border:1px solid var(--modal-stroke-and-border);display:flex;flex-direction:column;grid-gap:8px;gap:8px;align-items:center;justify-content:center;padding:8px;width:100%;height:200px;border-radius:4px}.SignatureModal .signature-input.full-signature{flex:1.5 0 0}.SignatureModal .signature-input.initials{flex:1 0 0}@media(max-height:500px){.App:not(.is-web-component) .SignatureModal .signature-input{height:116px}}@container (max-height: 500px){.App.is-web-component .SignatureModal .signature-input{height:116px}}@media(max-height:320px){.App:not(.is-web-component) .SignatureModal .signature-input{height:86px}}@container (max-height: 320px){.App.is-web-component .SignatureModal .signature-input{height:86px}}.SignatureModal .signature-input.image{height:244px}.SignatureModal .signature-input-footer{display:flex;flex-direction:row;width:100%}.SignatureModal .signature-input .signature-prompt{font-size:10px;color:var(--faded-text);flex:3 0 0;text-align:center}.SignatureModal .signature-and-initials-container{display:flex;flex-direction:row;grid-gap:8px;gap:8px}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport Measure from 'react-measure';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport setToolStyles from 'helpers/setToolStyles';\r\nimport { Swipeable } from 'react-swipeable';\r\nimport ColorPalette from 'components/ColorPalette';\r\nimport Dropdown from 'components/Dropdown';\r\nimport SignatureModes from 'constants/signatureModes';\r\nimport core from 'core';\r\n\r\nimport './InkSignature.scss';\r\n\r\nconst useForceUpdate = () => {\r\n  const [, setIt] = useState(false);\r\n  return () => setIt((it) => !it);\r\n};\r\n\r\nconst propTypes = {\r\n  isModalOpen: PropTypes.bool,\r\n  isTabPanelSelected: PropTypes.bool,\r\n  disableCreateButton: PropTypes.func,\r\n  enableCreateButton: PropTypes.func,\r\n  isInitialsModeEnabled: PropTypes.bool,\r\n};\r\n\r\nconst InkSignature = ({\r\n  isModalOpen,\r\n  isTabPanelSelected,\r\n  disableCreateButton,\r\n  enableCreateButton,\r\n  isInitialsModeEnabled = false\r\n}) => {\r\n  const fullSignatureCanvas = useRef();\r\n  const initialsCanvas = useRef();\r\n  // the ref holds the path points of the underlying freehand annotation\r\n  // when users switch to a different tab the underlying signature annotation will change\r\n  // so this ref is used for setting the current uderlying annotation back when users switch back to the ink tab\r\n  const fullSignaturePathsRef = useRef();\r\n  const initialsPathsRef = useRef();\r\n  // the ref holds an id that will be used to check if the newly added signature annotation is the same as the freehand annotation that's drawn in the canvas\r\n  const [t] = useTranslation();\r\n  const [dimension, setDimension] = useState({});\r\n  const [fullSignatureDrawn, setFullSignatureDrawn] = useState(false);\r\n  const [initialsDrawn, setInitialsDrawn] = useState(false);\r\n\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  useEffect(() => {\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    const canvas = fullSignatureCanvas.current;\r\n\r\n    signatureTool.setSignatureCanvas(canvas);\r\n    const multiplier = window.Core.getCanvasMultiplier();\r\n    canvas.getContext('2d').scale(multiplier, multiplier);\r\n\r\n    // Now set the initials canvas\r\n    const secondCanvas = initialsCanvas.current;\r\n    signatureTool.setInitialsCanvas(secondCanvas);\r\n    secondCanvas.getContext('2d').scale(multiplier, multiplier);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isModalOpen) {\r\n      clearFullSignatureCanvas();\r\n      clearInitialsCanvas();\r\n    }\r\n  }, [isModalOpen]);\r\n\r\n  useEffect(() => {\r\n    async function resizeFullSignatureCanvas() {\r\n      if (isModalOpen && isTabPanelSelected) {\r\n        const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n        for (const signatureTool of signatureToolArray) {\r\n          signatureTool.setSignature(fullSignaturePathsRef.current);\r\n          signatureTool.setInitials(initialsPathsRef.current);\r\n          // use resizeCanvas here mainly for redawing the underlying signature annotation to make it show on the canvas\r\n          await signatureTool.resizeCanvas(SignatureModes.FULL_SIGNATURE);\r\n        }\r\n      }\r\n    }\r\n\r\n\r\n    async function resizeInitialsCanvas() {\r\n      if (isModalOpen && isTabPanelSelected && isInitialsModeEnabled) {\r\n        const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n        for (const signatureTool of signatureToolArray) {\r\n          signatureTool.setInitials(initialsPathsRef.current);\r\n          await signatureTool.resizeCanvas(SignatureModes.INITIALS);\r\n        }\r\n      }\r\n    }\r\n\r\n    function checkEnableCreateButton() {\r\n      if (isInitialsModeEnabled) {\r\n        (fullSignaturePathsRef.current && initialsPathsRef.current) ? enableCreateButton() : disableCreateButton();\r\n      } else {\r\n        fullSignaturePathsRef.current ? enableCreateButton() : disableCreateButton();\r\n      }\r\n    }\r\n\r\n    resizeFullSignatureCanvas();\r\n    resizeInitialsCanvas();\r\n    checkEnableCreateButton();\r\n  }, [isTabPanelSelected, isModalOpen, isInitialsModeEnabled]);\r\n\r\n  useEffect(() => {\r\n    async function resizeCanvasAsyncCall() {\r\n      if (dimension.height && dimension.width) {\r\n        const signatureTool = core.getTool('AnnotationCreateSignature');\r\n        await signatureTool.resizeCanvas();\r\n\r\n        if (isInitialsModeEnabled) {\r\n          await signatureTool.resizeCanvas(SignatureModes.INITIALS);\r\n        }\r\n      }\r\n    }\r\n    resizeCanvasAsyncCall();\r\n  }, [dimension, isInitialsModeEnabled]);\r\n\r\n  useEffect(() => {\r\n    if (fullSignatureDrawn && (!isInitialsModeEnabled || initialsDrawn)) {\r\n      enableCreateButton();\r\n    } else {\r\n      disableCreateButton();\r\n    }\r\n  }, [initialsDrawn, fullSignatureDrawn, isInitialsModeEnabled]);\r\n\r\n  const clearFullSignatureCanvas = useCallback(() => {\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    signatureTool.clearSignatureCanvas();\r\n    fullSignaturePathsRef.current = null;\r\n    setFullSignatureDrawn(false);\r\n  }, []);\r\n\r\n  const clearInitialsCanvas = useCallback(() => {\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    signatureTool.clearInitialsCanvas();\r\n    initialsPathsRef.current = null;\r\n    setInitialsDrawn(false);\r\n  }, []);\r\n\r\n  const handleFinishDrawingFullSignature = async () => {\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    if (!(await signatureTool.isEmptySignature())) {\r\n      // need to deep copy the paths because it will be modified\r\n      // when the annotation is added to the document\r\n      // we want to keep the unmodified paths so that users can keep drawing on the canvas\r\n      fullSignaturePathsRef.current = deepCopy(signatureTool.getFullSignatureAnnotation().getPaths());\r\n      setFullSignatureDrawn(true);\r\n    }\r\n  };\r\n\r\n  const handleFinishDrawingInitials = async () => {\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    const initialsAnnotation = signatureTool.getInitialsAnnotation();\r\n    if (initialsAnnotation) {\r\n      // need to deep copy the paths because it will be modified\r\n      // when the annotation is added to the document\r\n      // we want to keep the unmodified paths so that users can keep drawing on the canvas\r\n      initialsPathsRef.current = deepCopy(signatureTool.getInitialsAnnotation().getPaths());\r\n      setInitialsDrawn(true);\r\n    }\r\n  };\r\n\r\n  const handleColorInputChange = (property, value) => {\r\n    setToolStyles('AnnotationCreateSignature', property, value);\r\n    const signatureTool = core.getTool('AnnotationCreateSignature');\r\n    if (signatureTool.getFullSignatureAnnotation()) {\r\n      signatureTool.getFullSignatureAnnotation().StrokeColor = value;\r\n      signatureTool.resizeCanvas(SignatureModes.FULL_SIGNATURE);\r\n    }\r\n\r\n    if (signatureTool.getInitialsAnnotation()) {\r\n      signatureTool.getInitialsAnnotation().StrokeColor = value;\r\n      signatureTool.resizeCanvas(SignatureModes.INITIALS);\r\n    }\r\n    // hack for tool styles for signature not being on state\r\n    forceUpdate();\r\n  };\r\n\r\n  const deepCopy = (paths) => {\r\n    const pathsCopy = [];\r\n    for (let i = 0; i < paths.length; ++i) {\r\n      for (let j = 0; j < paths[i].length; ++j) {\r\n        if (!pathsCopy[i]) {\r\n          pathsCopy[i] = [];\r\n        }\r\n        pathsCopy[i][j] = new window.Core.Math.Point(paths[i][j].x, paths[i][j].y);\r\n      }\r\n    }\r\n\r\n    return pathsCopy;\r\n  };\r\n\r\n  const signatureTool = core.getTool('AnnotationCreateSignature');\r\n  const toolStyles = signatureTool.defaults;\r\n  const initialsContainerStyle = isInitialsModeEnabled ? {} : { display: 'none' };\r\n\r\n  return (\r\n    <Measure bounds onResize={({ bounds }) => setDimension(bounds)}>\r\n      {({ measureRef }) => (\r\n        <div className=\"ink-signature\" ref={measureRef}>\r\n          <Swipeable\r\n            onSwiping={({ event }) => event.stopPropagation()}\r\n            className=\"canvas-colorpalette-container\"\r\n          >\r\n            <div className='signature-and-initials-container'>\r\n              <div className='signature-input full-signature'>\r\n                <canvas\r\n                  className=\"ink-signature-canvas\"\r\n                  onMouseUp={handleFinishDrawingFullSignature}\r\n                  onTouchEnd={handleFinishDrawingFullSignature}\r\n                  onMouseLeave={handleFinishDrawingFullSignature}\r\n                  ref={fullSignatureCanvas}\r\n                />\r\n                <div className=\"signature-input-footer\">\r\n                  <div className=\"signature-prompt\">\r\n                    {t('option.signatureModal.drawSignature')}\r\n                  </div>\r\n                  <button className=\"footer-signature-clear\" onClick={clearFullSignatureCanvas} disabled={!fullSignatureDrawn}>\r\n                    {t('action.clear')}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n              <div className='signature-input initials' style={initialsContainerStyle}>\r\n                <canvas\r\n                  className=\"ink-signature-canvas\"\r\n                  onMouseUp={handleFinishDrawingInitials}\r\n                  onTouchEnd={handleFinishDrawingInitials}\r\n                  onMouseLeave={handleFinishDrawingInitials}\r\n                  ref={initialsCanvas}\r\n                />\r\n                <div className=\"signature-input-footer\">\r\n                  <div className=\"signature-prompt\">\r\n                    {t('option.signatureModal.drawInitial')}\r\n                  </div>\r\n                  <button className=\"footer-signature-clear\" onClick={clearInitialsCanvas} disabled={!initialsDrawn}>\r\n                    {t('action.clear')}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div className=\"colorpalette-clear-container\">\r\n              <div className=\"signature-style-options\">\r\n                <Dropdown\r\n                  disabled={true}\r\n                  placeholder={'Text Styles'}\r\n                />\r\n                <div className=\"placeholder-dropdown\"></div>\r\n                <div className=\"divider\"></div>\r\n                <ColorPalette\r\n                  color={toolStyles['StrokeColor']}\r\n                  property=\"StrokeColor\"\r\n                  onStyleChange={(property, value) => handleColorInputChange(property, value)}\r\n                  overridePalette2={['#000000', '#4E7DE9', '#E44234']}\r\n                />\r\n              </div>\r\n            </div>\r\n          </Swipeable>\r\n        </div>\r\n      )}\r\n    </Measure>\r\n  );\r\n};\r\n\r\nInkSignature.propTypes = propTypes;\r\n\r\nexport default InkSignature;\r\n","import InkSignature from './InkSignature';\r\n\r\nexport default InkSignature;","\r\n// Crops the image more accurately by removing white space from all side of the image.\r\nfunction cropImageFromCanvas(canvas) {\r\n  const ctx = canvas.getContext('2d');\r\n  let width = canvas.width;\r\n  let height = canvas.height;\r\n  const pixels = { x: [], y: [] };\r\n  const imageData = ctx.getImageData(0, 0, canvas.width, canvas.height);\r\n  let x;\r\n  let y;\r\n  let index;\r\n\r\n  for (y = 0; y < height; y++) {\r\n    for (x = 0; x < width; x++) {\r\n      index = (y * width + x) * 4;\r\n      if (imageData.data[index + 3] > 0) {\r\n        pixels.x.push(x);\r\n        pixels.y.push(y);\r\n      }\r\n    }\r\n  }\r\n  pixels.x.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  pixels.y.sort(function(a, b) {\r\n    return a - b;\r\n  });\r\n  const n = pixels.x.length - 1;\r\n\r\n  width = 1 + pixels.x[n] - pixels.x[0];\r\n  height = 1 + pixels.y[n] - pixels.y[0];\r\n  const cut = ctx.getImageData(pixels.x[0], pixels.y[0], width, height);\r\n\r\n  canvas.width = width;\r\n  canvas.height = height;\r\n  ctx.putImageData(cut, 0, 0);\r\n\r\n  return canvas.toDataURL();\r\n}\r\n\r\nexport default cropImageFromCanvas;","import React, { useState, useEffect, useRef } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\nimport ColorPalette from 'components/ColorPalette';\r\nimport Dropdown from 'components/Dropdown';\r\nimport core from 'core';\r\nimport { isIOS, isMobile } from 'helpers/device';\r\nimport cropImageFromCanvas from 'helpers/cropImageFromCanvas';\r\nimport selectors from 'selectors';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport './TextSignature.scss';\r\nimport getRootNode from 'helpers/getRootNode';\r\n\r\nconst propTypes = {\r\n  isModalOpen: PropTypes.bool,\r\n  isTabPanelSelected: PropTypes.bool,\r\n  disableCreateButton: PropTypes.func,\r\n  enableCreateButton: PropTypes.func,\r\n  isInitialsModeEnabled: PropTypes.bool,\r\n};\r\n\r\nconst FONT_SIZE = 72;\r\nconst TYPED_SIGNATURE_FONT_SIZE = (FONT_SIZE * 2) / 3;\r\nconst MAX_SIGNATURE_LENGTH = 350;\r\nconst DEFAULT_FONT_COLOR = '#000000';\r\nconst CANVAS_MULTIPLIER = window.Core.getCanvasMultiplier();\r\nconst TEXT_CLIP_PADDING = 100;\r\n\r\nconst useForceUpdate = () => {\r\n  const [, setIt] = useState(false);\r\n  return () => setIt((it) => !it);\r\n};\r\n\r\nconst parseInitialsFromFullSignature = (fullSiganture) => {\r\n  return fullSiganture?.split(' ').map((x) => x[0]).join('').toUpperCase();\r\n};\r\n\r\nconst getSignatureLength = (text, fontSize, fontFamily) => {\r\n  const font = `${fontSize}px ${fontFamily}`;\r\n  const textSpan = document.createElement('span');\r\n  textSpan.id = 'textSpan';\r\n  textSpan.style.display = 'inline-block';\r\n  textSpan.style.visibility = 'hidden';\r\n  textSpan.style.font = font;\r\n  const rootNode = getRootNode();\r\n  if (window.isApryseWebViewerWebComponent) {\r\n    rootNode.appendChild(textSpan);\r\n  } else {\r\n    rootNode.getElementsByTagName('body')[0].appendChild(textSpan);\r\n  }\r\n\r\n  textSpan.textContent = text;\r\n\r\n  const signatureWidth = textSpan.getBoundingClientRect().width;\r\n  textSpan.remove();\r\n  return signatureWidth;\r\n};\r\n\r\nconst scaleFontSize = (text, fontFamily) => {\r\n  let minFontSize = 0;\r\n  let maxFontSize = TYPED_SIGNATURE_FONT_SIZE;\r\n  let currentFontSize;\r\n\r\n  while (minFontSize <= maxFontSize) {\r\n    currentFontSize = Math.floor((minFontSize + maxFontSize) / 2);\r\n\r\n    const signatureWidth = getSignatureLength(text, currentFontSize, fontFamily);\r\n    if (signatureWidth > MAX_SIGNATURE_LENGTH) {\r\n      maxFontSize = currentFontSize - 1;\r\n    } else {\r\n      minFontSize = currentFontSize + 1;\r\n    }\r\n  }\r\n  return currentFontSize;\r\n};\r\n\r\nconst resizeCanvas = (canvas, measurementReference, overrideMultiplier = 0) => {\r\n  let { width, height } = measurementReference.current.getBoundingClientRect();\r\n  width += TEXT_CLIP_PADDING;\r\n  height += TEXT_CLIP_PADDING;\r\n  canvas.style.width = `${width}px`;\r\n  canvas.style.height = `${height}px`;\r\n  canvas.width = width * Math.max(overrideMultiplier, CANVAS_MULTIPLIER);\r\n  canvas.height = height * Math.max(overrideMultiplier, CANVAS_MULTIPLIER);\r\n};\r\n\r\nconst setFontInCanvas = ({ canvas, text, selectedFontFamily, fontColor, overrideMultiplier = 0 }) => {\r\n  const ctx = canvas.getContext('2d');\r\n  const fontSize = scaleFontSize(text, selectedFontFamily);\r\n  ctx.fillStyle = fontColor;\r\n  ctx.textAlign = 'center';\r\n  ctx.textBaseline = 'middle';\r\n  ctx.font = `${fontSize * Math.max(overrideMultiplier, CANVAS_MULTIPLIER)}px ${selectedFontFamily}`;\r\n};\r\n\r\nconst drawTextInCanvas = (canvas, text) => {\r\n  const ctx = canvas.getContext('2d');\r\n  const { width, height } = canvas;\r\n  ctx.clearRect(0, 0, width, height);\r\n  ctx.fillText(text, width / 2, height / 2);\r\n};\r\n\r\nconst TextSignature = ({\r\n  isModalOpen,\r\n  isTabPanelSelected,\r\n  disableCreateButton,\r\n  enableCreateButton,\r\n  isInitialsModeEnabled = false,\r\n}) => {\r\n  const fonts = useSelector((state) => selectors.getSignatureFonts(state));\r\n  const textSignatureCanvasMultiplier = useSelector((state) => selectors.getTextSignatureQuality(state));\r\n  const [fullSignature, setFullSiganture] = useState('');\r\n  const [initials, setInitials] = useState('');\r\n  const [isDefaultValue, setIsDefaultValue] = useState(true);\r\n  const [fontColor, setFontColor] = useState(new window.Core.Annotations.Color(DEFAULT_FONT_COLOR));\r\n  const [fontSize, setFontSize] = useState(TYPED_SIGNATURE_FONT_SIZE);\r\n  const inputRef = useRef();\r\n  const fullSignatureHiddenCanvasRef = useRef();\r\n  const initialsHiddenCanvasRef = useRef();\r\n  const hiddenFullSignatureRef = useRef();\r\n  const hiddenInitialsRef = useRef();\r\n  const [t] = useTranslation();\r\n\r\n  const [selectedFontFamily, setSelectedFontFamily] = useState(fonts[0]);\r\n\r\n  const forceUpdate = useForceUpdate();\r\n\r\n  useEffect(() => {\r\n    // this can happen when an user added a new signature font, select it and then removed it\r\n    // in this case we just assume there's at least one font and set the active index to 0\r\n    if (!fonts.includes(selectedFontFamily)) {\r\n      setSelectedFontFamily(fonts[0]);\r\n    }\r\n  }, [selectedFontFamily, fonts]);\r\n\r\n  useEffect(() => {\r\n    const initialsCanvas = initialsHiddenCanvasRef.current;\r\n\r\n    if (isTabPanelSelected) {\r\n      resizeCanvas(initialsCanvas, hiddenInitialsRef);\r\n      setFontInCanvas({\r\n        canvas: initialsCanvas,\r\n        text: initials,\r\n        selectedFontFamily,\r\n        fontColor,\r\n      });\r\n      drawTextInCanvas(initialsCanvas, initials);\r\n\r\n      if (isModalOpen) {\r\n        setInitialsInTool();\r\n      }\r\n    }\r\n  }, [isTabPanelSelected, initials, fonts, fontColor, selectedFontFamily]);\r\n\r\n  useEffect(() => {\r\n    const fullSignatureCanvas = fullSignatureHiddenCanvasRef.current;\r\n\r\n    if (isTabPanelSelected) {\r\n      resizeCanvas(fullSignatureCanvas, hiddenFullSignatureRef, textSignatureCanvasMultiplier);\r\n      setFontInCanvas({\r\n        canvas: fullSignatureCanvas,\r\n        text: fullSignature,\r\n        selectedFontFamily,\r\n        fontColor,\r\n        overrideMultiplier: textSignatureCanvasMultiplier,\r\n      });\r\n      drawTextInCanvas(fullSignatureCanvas, fullSignature);\r\n      if (isModalOpen) {\r\n        setSignature();\r\n      }\r\n    }\r\n  }, [isTabPanelSelected, fullSignature, fonts, fontColor, selectedFontFamily]);\r\n\r\n  useEffect(() => {\r\n    setFontColor(fontColor);\r\n    if (isModalOpen && isTabPanelSelected) {\r\n      const currentUser = core.getDisplayAuthor(core.getCurrentUser());\r\n      setFullSiganture(currentUser);\r\n      setInitials(parseInitialsFromFullSignature(currentUser));\r\n      setSignature();\r\n    }\r\n  }, [isModalOpen, isTabPanelSelected]);\r\n\r\n  useEffect(() => {\r\n    if (isTabPanelSelected) {\r\n      inputRef.current?.focus();\r\n\r\n      if (isIOS) {\r\n        inputRef.current.setSelectionRange(0, 9999);\r\n      } else {\r\n        inputRef.current.select();\r\n      }\r\n    }\r\n  }, [isTabPanelSelected]);\r\n\r\n  useEffect(() => {\r\n    const onUpdateAnnotationPermission = () => {\r\n      if (isDefaultValue) {\r\n        const currentUser = core.getDisplayAuthor(core.getCurrentUser());\r\n        setFullSiganture(currentUser);\r\n        setInitials(parseInitialsFromFullSignature(currentUser));\r\n        enableCreateButton();\r\n      }\r\n    };\r\n\r\n    core.addEventListener('updateAnnotationPermission', onUpdateAnnotationPermission);\r\n    return () => {\r\n      core.removeEventListener('updateAnnotationPermission', onUpdateAnnotationPermission);\r\n    };\r\n  }, [isDefaultValue]);\r\n\r\n  const setSignature = () => {\r\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n    const canvas = fullSignatureHiddenCanvasRef.current;\r\n\r\n    const signatureValue = fullSignature || '';\r\n    if (signatureValue.trim()) {\r\n      const base64 = cropImageFromCanvas(canvas);\r\n      signatureToolArray.forEach((tool) => tool.setSignature(base64));\r\n      enableCreateButton();\r\n    } else {\r\n      signatureToolArray.forEach((tool) => tool.setSignature(null));\r\n      disableCreateButton();\r\n    }\r\n  };\r\n\r\n  const setInitialsInTool = () => {\r\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n    const canvas = initialsHiddenCanvasRef.current;\r\n\r\n    const initialsValue = initials || '';\r\n    if (initialsValue.trim()) {\r\n      const base64 = cropImageFromCanvas(canvas);\r\n      signatureToolArray.forEach((tool) => tool.setInitials(base64));\r\n      enableCreateButton();\r\n    } else {\r\n      signatureToolArray.forEach((tool) => tool.setInitials(null));\r\n      disableCreateButton();\r\n    }\r\n  };\r\n\r\n  const handleFullSignatureChange = (e) => {\r\n    setIsDefaultValue(false);\r\n    // Use regex instead of 'trimStart' for IE11 compatibility\r\n    const value = e.target.value.replace(/^\\s+/g, '');\r\n    setSignature();\r\n    setFullSiganture(value);\r\n    setInitials(parseInitialsFromFullSignature(value));\r\n    const newFontSize = scaleFontSize(value, selectedFontFamily);\r\n    setFontSize(newFontSize);\r\n  };\r\n\r\n  const handleInitialsChange = (e) => {\r\n    setIsDefaultValue(false);\r\n    // Use regex instead of 'trimStart' for IE11 compatibility\r\n    const initials = e.target.value.replace(/^\\s+/g, '');\r\n    setSignature();\r\n    setInitials(initials);\r\n  };\r\n\r\n  const handleColorInputChange = (property, value) => {\r\n    setFontColor(value);\r\n    // hack for tool styles for signature not being on state\r\n    // Note from ADBG : But why tho?\r\n    forceUpdate();\r\n  };\r\n\r\n  const handleDropdownSelectionChange = (font) => {\r\n    setSelectedFontFamily(font);\r\n    const newFontSize = scaleFontSize(fullSignature, font);\r\n    setFontSize(newFontSize);\r\n  };\r\n\r\n  // These elements are hidden from the user but are used as references to measure\r\n  // how the text fits, and then resize the canvas accordingly\r\n  const renderHiddenSignatureElements = () => {\r\n    return (\r\n      <div\r\n        className={classNames({\r\n          'text-signature-text': true,\r\n        })}\r\n        style={{ fontFamily: selectedFontFamily, fontSize: FONT_SIZE, color: fontColor.toHexString() }}\r\n      >\r\n        <div\r\n          className=\"text-container\"\r\n          ref={hiddenFullSignatureRef}\r\n        >\r\n          {fullSignature}\r\n        </div>\r\n        <div\r\n          className=\"text-container\"\r\n          ref={hiddenInitialsRef}\r\n        >\r\n          {initials}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Renders the font options if initials and text signature are occupied\r\n  const renderFontOptions = () => {\r\n    const isInitialsModeEnabledAndEmpty = isInitialsModeEnabled && initials === '';\r\n    if (fullSignature === '' && (isInitialsModeEnabledAndEmpty || !isInitialsModeEnabled)) {\r\n      return (\r\n        <Dropdown\r\n          disabled={true}\r\n          placeholder={t('option.signatureModal.fontStyle')}\r\n        />\r\n      );\r\n    }\r\n    return (\r\n      <Dropdown\r\n        items={fonts.map((font) => ({ font, value: `${fullSignature} ${isInitialsModeEnabled ? initials : ''}` }))}\r\n        getCustomItemStyle={(item) => ({ fontFamily: item.font })}\r\n        getKey={(item) => item.font}\r\n        getDisplayValue={(item) => {\r\n          return item.value || item.font;\r\n        }}\r\n        onClickItem={handleDropdownSelectionChange}\r\n        currentSelectionKey={selectedFontFamily || fonts[0]}\r\n        maxHeight={isMobile() ? 80 : null}\r\n        dataElement=\"text-signature-font-dropdown\"\r\n      />\r\n    );\r\n  };\r\n\r\n  const isDisabled = !(isModalOpen && isTabPanelSelected);\r\n  const initialsInputStyle = isInitialsModeEnabled ? {} : { display: 'none' };\r\n\r\n  return (\r\n    <div className=\"text-signature\">\r\n      <div className=\"signature-and-initials-container\">\r\n        <div className=\"signature-input full-signature\">\r\n          <label>\r\n            <input\r\n              className=\"text-signature-input\"\r\n              ref={inputRef}\r\n              type=\"text\"\r\n              value={fullSignature}\r\n              onChange={handleFullSignatureChange}\r\n              style={{ fontFamily: selectedFontFamily || fonts, fontSize, color: fontColor.toHexString() }}\r\n              disabled={isDisabled}\r\n            />\r\n          </label>\r\n          <div className=\"signature-input-footer\">\r\n            <div className='signature-prompt'>\r\n              {t('option.signatureModal.typeSignature')}\r\n            </div>\r\n            <button\r\n              className=\"footer-signature-clear\"\r\n              onClick={() => {\r\n                setFullSiganture('');\r\n                inputRef.current.focus();\r\n              }}\r\n              disabled={isDisabled || fullSignature.length === 0}\r\n            >\r\n              {t('action.clear')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <div className=\"signature-input initials\" style={initialsInputStyle}>\r\n          <label>\r\n            <input\r\n              className=\"text-signature-input\"\r\n              type=\"text\"\r\n              value={initials}\r\n              onChange={handleInitialsChange}\r\n              style={{ fontFamily: selectedFontFamily || fonts, fontSize, color: fontColor.toHexString() }}\r\n              disabled={isDisabled}\r\n            />\r\n          </label>\r\n          <div className=\"signature-input-footer\">\r\n            <div className='signature-prompt'>\r\n              {t('option.signatureModal.typeInitial')}\r\n            </div>\r\n            <button\r\n              className=\"footer-signature-clear\"\r\n              onClick={() => setInitials('')}\r\n              disabled={isDisabled || initials.length === 0}\r\n            >\r\n              {t('action.clear')}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {renderHiddenSignatureElements()}\r\n      <canvas ref={fullSignatureHiddenCanvasRef} />\r\n      <canvas ref={initialsHiddenCanvasRef} />\r\n      <div className=\"colorpalette-clear-container\">\r\n        <div className=\"signature-style-options\">\r\n          {renderFontOptions()}\r\n          <div className=\"placeholder-dropdown\"></div>\r\n          <div className=\"divider\"></div>\r\n          <ColorPalette\r\n            color={fontColor}\r\n            property=\"fontColor\"\r\n            onStyleChange={(property, value) => handleColorInputChange(property, value)}\r\n            overridePalette2={['#000000', '#4E7DE9', '#E44234']}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nTextSignature.propTypes = propTypes;\r\n\r\nexport default TextSignature;\r\n","import TextSignature from './TextSignature';\r\n\r\nexport default TextSignature;","import React, { useState, useEffect, useRef, useCallback } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { isMobile } from 'helpers/device';\r\nimport classNames from 'classnames';\r\nimport i18next from 'i18next';\r\nimport core from 'core';\r\n\r\nimport './ImageSignature.scss';\r\n\r\nconst propTypes = {\r\n  isModalOpen: PropTypes.bool,\r\n  isTabPanelSelected: PropTypes.bool,\r\n  disableCreateButton: PropTypes.func,\r\n  enableCreateButton: PropTypes.func,\r\n  isInitialsModeEnabled: PropTypes.bool,\r\n};\r\n\r\nconst signatureType = {\r\n  FULL_SIGNATURE: 'fullSignature',\r\n  INITIALS: 'initials',\r\n};\r\nconst acceptedFileTypes = ['png', 'jpg', 'jpeg'];\r\nlet acceptedFileSize = null;\r\n\r\nfunction readImageFile(file) {\r\n  return new Promise((resolve, reject) => {\r\n    const fileReader = new FileReader();\r\n\r\n    fileReader.onload = (event) => {\r\n      const imageSource = event.target.result;\r\n      const isValidType = acceptedFileTypes.some(\r\n        (type) => imageSource.indexOf(`image/${type}`) !== -1,\r\n      );\r\n\r\n      if (isValidType) {\r\n        resolve({\r\n          imageSource,\r\n          fileSize: file.size,\r\n        });\r\n      } else {\r\n        reject(i18next.t('message.imageSignatureAcceptedFileTypes', {\r\n          acceptedFileTypes: acceptedFileTypes.join(', '),\r\n        }));\r\n      }\r\n    };\r\n\r\n    fileReader.readAsDataURL(file);\r\n  });\r\n}\r\n\r\n\r\nconst ImageSignature = ({\r\n  isModalOpen,\r\n  isTabPanelSelected,\r\n  disableCreateButton,\r\n  enableCreateButton,\r\n  isInitialsModeEnabled = false,\r\n}) => {\r\n  const [fullSignatureImage, setFullSignatureImage] = useState(null);\r\n  const [fullSignatureFileSize, setFullSignatureFileSize] = useState(null);\r\n  const [initialsImage, setInitialsImage] = useState(null);\r\n  const [initialsFileSize, setInitialsFileSize] = useState(null);\r\n  const [draggingSignatureType, setDraggingSignatureType] = useState('');\r\n  const [fullSignatureErrorMessage, setFullSignatureErrorMessage] = useState(null);\r\n  const [initialsErrorMessage, setInitialsErrorMessage] = useState(null);\r\n  const fullSignatureInputRef = useRef();\r\n  const initialsInputRef = useRef();\r\n  const [t] = useTranslation();\r\n\r\n  useEffect(() => {\r\n    const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n    acceptedFileSize = signatureToolArray[0]['ACCEPTED_FILE_SIZE'];\r\n    if (!isModalOpen) {\r\n      setFullSignatureImage(null);\r\n      setInitialsImage(null);\r\n      setInitialsFileSize(null);\r\n      setInitialsFileSize(null);\r\n    } else if (isModalOpen && isTabPanelSelected) {\r\n      signatureToolArray.forEach((signatureTool) => signatureTool.setSignature(fullSignatureImage, fullSignatureFileSize));\r\n      signatureToolArray.forEach((signatureTool) => signatureTool.setInitials(initialsImage, initialsFileSize));\r\n      (fullSignatureImage && (!isInitialsModeEnabled || initialsImage)) ? enableCreateButton() : disableCreateButton();\r\n    }\r\n  }, [fullSignatureImage, initialsImage, isTabPanelSelected, isModalOpen, initialsFileSize, fullSignatureFileSize, isInitialsModeEnabled]);\r\n\r\n  const handleFullSignatureFileChange = (event) => {\r\n    readFullSignatureFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleInitialsFileChange = (event) => {\r\n    readInitialsFile(event.target.files[0]);\r\n  };\r\n\r\n  const handleDragEnter = useCallback((event, signatureType) => {\r\n    event.preventDefault();\r\n    setDraggingSignatureType(signatureType);\r\n  }, []);\r\n\r\n  const handleDragOver = useCallback((event) => {\r\n    event.preventDefault();\r\n  }, []);\r\n\r\n  const handleDragLeave = useCallback((event) => {\r\n    event.preventDefault();\r\n\r\n    if (!event.target.parentNode.contains(event.relatedTarget)) {\r\n      setDraggingSignatureType(null);\r\n    }\r\n  }, []);\r\n\r\n  const handleDragExit = useCallback((event) => {\r\n    event.preventDefault();\r\n    setDraggingSignatureType(null);\r\n  }, []);\r\n\r\n  const handleFullSignatureFileDrop = (event) => {\r\n    event.preventDefault();\r\n    setDraggingSignatureType(null);\r\n    const { files } = event.dataTransfer;\r\n\r\n    if (files.length) {\r\n      readFullSignatureFile(files[0]);\r\n    }\r\n  };\r\n\r\n  const readFullSignatureFile = async (file) => {\r\n    try {\r\n      const result = await readImageFile(file);\r\n      const { imageSource, fileSize } = result;\r\n      setFullSignatureErrorMessage('');\r\n      setFullSignatureImage(imageSource);\r\n      setFullSignatureFileSize(fileSize);\r\n    } catch (errorMessage) {\r\n      setFullSignatureErrorMessage(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleInitialsFileDrop = (event) => {\r\n    event.preventDefault();\r\n    setDraggingSignatureType(null);\r\n    const { files } = event.dataTransfer;\r\n\r\n    if (files.length) {\r\n      readInitialsFile(files[0]);\r\n    }\r\n  };\r\n\r\n  const readInitialsFile = async (file) => {\r\n    try {\r\n      const result = await readImageFile(file);\r\n      const { imageSource, fileSize } = result;\r\n      setInitialsErrorMessage('');\r\n      setInitialsImage(imageSource);\r\n      setInitialsFileSize(fileSize);\r\n    } catch (errorMessage) {\r\n      setInitialsErrorMessage(errorMessage);\r\n    }\r\n  };\r\n\r\n  const handleFullSignatureDragEnter = useCallback((event) => {\r\n    handleDragEnter(event, signatureType.FULL_SIGNATURE);\r\n  }, [handleDragEnter]);\r\n\r\n  const handleFullSignatureDragLeave = useCallback((event) => {\r\n    handleDragLeave(event, signatureType.FULL_SIGNATURE);\r\n  }, [handleDragLeave]);\r\n\r\n\r\n  const handleInitialsDragEnter = useCallback((event) => {\r\n    handleDragEnter(event, signatureType.INITIALS);\r\n  }, [handleDragEnter]);\r\n\r\n  const handleInitialsDragLeave = useCallback((event) => {\r\n    handleDragLeave(event, signatureType.INITIALS);\r\n  }, [handleDragLeave]);\r\n\r\n  const renderPrompt = () => {\r\n    if (isMobile()) {\r\n      return (\r\n        <div className=\"image-signature-separator\">\r\n          {t('option.signatureModal.selectImage')}\r\n        </div>\r\n      );\r\n    }\r\n    return (\r\n      <>\r\n        <div className=\"image-signature-dnd\">\r\n          {t('option.signatureModal.dragAndDrop')}\r\n        </div>\r\n        <div className=\"image-signature-separator\">\r\n          {t('option.signatureModal.or')}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderFullSignatureImage = () => (<img src={fullSignatureImage} style={{ maxWidth: '100%', maxHeight: '100%' }} />);\r\n\r\n  const renderFullSignaturePicker = () => (\r\n    <div\r\n      className={fullSignatureContainerClass}\r\n      onDragEnter={handleFullSignatureDragEnter}\r\n      onDragLeave={handleFullSignatureDragLeave}\r\n      onDragOver={handleDragOver}\r\n      onDrop={handleFullSignatureFileDrop}\r\n      onDragExit={handleDragExit}\r\n    >\r\n      {renderPrompt()}\r\n      <div className=\"image-signature-upload\">\r\n        <input\r\n          ref={fullSignatureInputRef}\r\n          id=\"upload\"\r\n          type=\"file\"\r\n          accept={acceptedFileTypes.map((type) => `.${type}`).join(',')}\r\n          onChange={handleFullSignatureFileChange}\r\n          disabled={!(isModalOpen && isTabPanelSelected)}\r\n        />\r\n        <div\r\n          onClick={() => fullSignatureInputRef.current.click()}\r\n          className=\"pick-image-button\"\r\n        >\r\n          {t('option.signatureModal.pickImage')}\r\n        </div>\r\n      </div>\r\n      {fullSignatureErrorMessage && (\r\n        <div className=\"image-signature-error\">{fullSignatureErrorMessage}</div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const renderInitialsImage = () => (<img src={initialsImage} style={{ maxWidth: '100%', maxHeight: '100%' }} />);\r\n\r\n  const renderInitialsPicker = () => (\r\n    <div\r\n      className={initialsContainerClass}\r\n      onDragEnter={handleInitialsDragEnter}\r\n      onDragLeave={handleInitialsDragLeave}\r\n      onDragOver={handleDragOver}\r\n      onDrop={handleInitialsFileDrop}\r\n      onDragExit={handleDragExit}\r\n    >\r\n      {renderPrompt()}\r\n      <div className=\"image-signature-upload\">\r\n        <input\r\n          ref={initialsInputRef}\r\n          id=\"upload\"\r\n          type=\"file\"\r\n          accept={acceptedFileTypes.map((type) => `.${type}`).join(',')}\r\n          onChange={handleInitialsFileChange}\r\n          disabled={!(isModalOpen && isTabPanelSelected)}\r\n        />\r\n        <div\r\n          onClick={() => initialsInputRef.current.click()}\r\n          className=\"pick-image-button\"\r\n        >\r\n          {t('option.signatureModal.pickInitialsFile')}\r\n        </div>\r\n      </div>\r\n      {initialsErrorMessage && (\r\n        <div className=\"image-signature-error\">{initialsErrorMessage}</div>\r\n      )}\r\n    </div>\r\n  );\r\n\r\n  const hasLimit = typeof acceptedFileSize === 'number' && acceptedFileSize > 0;\r\n  const fullSignatureFileSizeCheck = !hasLimit || fullSignatureFileSize < acceptedFileSize;\r\n  const initialsFileSizeCheck = !hasLimit || initialsFileSize < acceptedFileSize;\r\n  const fullSignatureContainerClass = classNames('image-signature-upload-container', { mobile: isMobile(), dragging: draggingSignatureType === signatureType.FULL_SIGNATURE });\r\n  const initialsContainerClass = classNames('image-signature-upload-container', { mobile: isMobile(), dragging: draggingSignatureType === signatureType.INITIALS });\r\n  const initialsInputStyle = isInitialsModeEnabled ? {} : { display: 'none' };\r\n  return (\r\n    <div className=\"image-signature\">\r\n      <div className=\"signature-and-initials-container\">\r\n        <div className=\"signature-input image full-signature\">\r\n          {fullSignatureImage && fullSignatureFileSizeCheck ?\r\n            renderFullSignatureImage() :\r\n            renderFullSignaturePicker()\r\n          }\r\n        </div>\r\n        <div className=\"signature-input image initials\" style={initialsInputStyle}>\r\n          {initialsImage && initialsFileSizeCheck ?\r\n            renderInitialsImage() :\r\n            renderInitialsPicker()}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nImageSignature.propTypes = propTypes;\r\n\r\nexport default ImageSignature;\r\n","import ImageSignature from './ImageSignature';\r\n\r\nexport default ImageSignature;","import React from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport selectors from 'selectors';\r\nimport actions from 'actions';\r\nimport './SavedSignatures.scss';\r\nimport SignatureModes from 'constants/signatureModes';\r\nimport defaultTool from 'constants/defaultTool';\r\nimport Icon from 'components/Icon';\r\nimport { useTranslation } from 'react-i18next';\r\nimport core from 'core';\r\nimport classNames from 'classnames';\r\n\r\n\r\nconst SavedSignatures = ({ selectedIndex, setSelectedIndex }) => {\r\n  const dispatch = useDispatch();\r\n  const { t } = useTranslation();\r\n  const [\r\n    displayedSignatures,\r\n    selectedDisplayedSignatureIndex,\r\n    isSignatureDeleteButtonDisabled,\r\n    savedInitials,\r\n    selectedDisplayedInitialsIndex,\r\n    signatureMode,\r\n    initialsOffset,\r\n  ] = useSelector(\r\n    (state) => [\r\n      selectors.getDisplayedSignatures(state),\r\n      selectors.getSelectedDisplayedSignatureIndex(state),\r\n      selectors.isElementDisabled(state, 'defaultSignatureDeleteButton'),\r\n      selectors.getSavedInitials(state),\r\n      selectors.getSelectedDisplayedInitialsIndex(state),\r\n      selectors.getSignatureMode(state),\r\n      selectors.getInitialsOffset(state),\r\n    ]\r\n  );\r\n\r\n  const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n\r\n  const deleteSignatureAndInitials = async (index) => {\r\n    const isFullSignature = signatureMode === SignatureModes.FULL_SIGNATURE;\r\n    const initialsIndex = index - initialsOffset;\r\n    const skipInitial = initialsIndex < 0;\r\n    if (!skipInitial) {\r\n      signatureToolArray[0].deleteSavedInitials(initialsIndex);\r\n      const isDeletingSelectedInitials = selectedDisplayedInitialsIndex === initialsIndex && !skipInitial;\r\n      if (isDeletingSelectedInitials) {\r\n        dispatch(actions.setSelectedDisplayedInitialsIndex(0));\r\n        for (const signatureTool of signatureToolArray) {\r\n          signatureTool.hidePreview();\r\n        }\r\n        core.setToolMode(defaultTool);\r\n      }\r\n    } else {\r\n      dispatch(actions.setInitialsOffset(initialsOffset - 1));\r\n    }\r\n    signatureToolArray[0].deleteSavedSignature(index);\r\n    const isDeletingSelectedSignature = selectedDisplayedSignatureIndex === index;\r\n    if (isDeletingSelectedSignature) {\r\n      dispatch(actions.setSelectedDisplayedSignatureIndex(0));\r\n      for (const signatureTool of signatureToolArray) {\r\n        signatureTool.hidePreview();\r\n      }\r\n      core.setToolMode(defaultTool);\r\n    } else if (isFullSignature ? index < selectedDisplayedSignatureIndex : initialsIndex < selectedDisplayedInitialsIndex) {\r\n      dispatch(actions.setSelectedDisplayedSignatureIndex(selectedDisplayedSignatureIndex - 1));\r\n    }\r\n  };\r\n\r\n  const displayedIntials = new Array(initialsOffset).concat(savedInitials);\r\n\r\n  return (\r\n    <div className={classNames('SavedSignatures', { empty: !displayedSignatures || displayedSignatures.length < 1 })}>\r\n      {displayedSignatures.length ?\r\n        displayedSignatures.map((signature, index) => <div\r\n          key={index}\r\n          className={classNames('signature-row', { active: selectedIndex === index, 'no-initials': !displayedIntials?.[index] })}\r\n          onClick={() => setSelectedIndex(index)}\r\n        >\r\n          <div className=\"inputContainer\">\r\n            <input type='radio' onChange={() => setSelectedIndex(index)} checked={index === selectedIndex}/>\r\n            <div className=\"contentContainer\">\r\n              <div className=\"imgContainer\">\r\n                <img alt={t('option.toolsOverlay.signatureAltText')} src={displayedSignatures[index].imgSrc}/>\r\n              </div>\r\n              {displayedIntials?.[index] && <div className=\"imgContainer\">\r\n                <img alt={t('option.toolsOverlay.signatureAltText')} src={displayedIntials[index].imgSrc}/>\r\n              </div>}\r\n              {!isSignatureDeleteButtonDisabled && (\r\n                <button\r\n                  className=\"icon-button\"\r\n                  data-element=\"defaultSignatureDeleteButton\"\r\n                  onClick={() => deleteSignatureAndInitials(index)}\r\n                >\r\n                  <Icon glyph=\"icon-delete-line\" />\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n          <div className=\"labelContainer\">\r\n            <div className=\"signatureLabel\">{t('option.type.signature')}</div>\r\n            {displayedIntials?.[index] && <div className=\"intialsLabel\">{t('option.type.initials')}</div>}\r\n          </div>\r\n        </div>\r\n        )\r\n        :\r\n        <div className='emptyListContainer'>\r\n          {t('option.signatureModal.noSignatures')}\r\n        </div>\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SavedSignatures;\r\n","import SavedSignatures from './SavedSignatures';\r\n\r\nexport default SavedSignatures;","import React, { useCallback, useEffect, useState } from 'react';\r\nimport classNames from 'classnames';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport { FocusTrap } from '@pdftron/webviewer-react-toolkit';\r\n\r\nimport { Tabs, Tab, TabPanel } from 'components/Tabs';\r\nimport InkSignature from 'components/SignatureModal/InkSignature';\r\nimport TextSignature from 'components/SignatureModal/TextSignature';\r\nimport ImageSignature from 'components/SignatureModal/ImageSignature';\r\nimport Button from 'components/Button';\r\nimport SavedSignatures from 'components/SignatureModal/SavedSignatures';\r\n\r\nimport core from 'core';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport { Swipeable } from 'react-swipeable';\r\nimport SignatureModes from 'constants/signatureModes';\r\nimport DataElements from 'constants/dataElement';\r\nimport useDidUpdate from 'hooks/useDidUpdate';\r\n\r\nimport './SignatureModal.scss';\r\n\r\nconst SignatureModal = () => {\r\n  const [\r\n    isDisabled,\r\n    isOpen,\r\n    activeToolName,\r\n    signatureMode,\r\n    activeDocumentViewerKey,\r\n    isInitialsModeEnabled,\r\n    isSavedTabDisabled,\r\n    selectedTab,\r\n    displayedSignatures,\r\n    savedInitials,\r\n  ] = useSelector((state) => [\r\n    selectors.isElementDisabled(state, DataElements.SIGNATURE_MODAL),\r\n    selectors.isElementOpen(state, DataElements.SIGNATURE_MODAL),\r\n    selectors.getActiveToolName(state),\r\n    selectors.getSignatureMode(state),\r\n    selectors.getActiveDocumentViewerKey(state),\r\n    selectors.getIsInitialsModeEnabled(state),\r\n    selectors.isElementDisabled(state, DataElements.SAVED_SIGNATURES_TAB),\r\n    selectors.getSelectedTab(state, DataElements.SIGNATURE_MODAL),\r\n    selectors.getDisplayedSignatures(state),\r\n    selectors.getSavedInitials(state),\r\n  ]);\r\n\r\n  const signatureToolArray = core.getToolsFromAllDocumentViewers('AnnotationCreateSignature');\r\n  const [createButtonDisabled, setCreateButtonDisabled] = useState(true);\r\n  const [selectedIndex, setSelectedIndex] = useState(0);\r\n\r\n  const dispatch = useDispatch();\r\n  const [t] = useTranslation();\r\n\r\n  // Hack to close modal if hotkey to open other tool is used.\r\n  useDidUpdate(() => {\r\n    if (activeToolName !== 'AnnotationCreateSignature') {\r\n      dispatch(\r\n        actions.closeElements([\r\n          DataElements.SIGNATURE_MODAL,\r\n          DataElements.SIGNATURE_OVERLAY\r\n        ]),\r\n      );\r\n    }\r\n  }, [dispatch, activeToolName]);\r\n\r\n  useEffect(() => {\r\n    if (isOpen) {\r\n      dispatch(\r\n        actions.closeElements([\r\n          DataElements.PRINT_MODAL,\r\n          DataElements.LOADING_MODAL,\r\n          DataElements.PROGRESS_MODAL,\r\n          DataElements.ERROR_MODAL,\r\n        ]),\r\n      );\r\n    }\r\n  }, [dispatch, isOpen]);\r\n\r\n  const closeModal = () => {\r\n    for (const signatureTool of signatureToolArray) {\r\n      signatureTool.clearLocation();\r\n      signatureTool.setSignature(null);\r\n    }\r\n    dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\r\n  };\r\n\r\n  const createSignatures = async () => {\r\n    createFullSignature();\r\n\r\n    if (isInitialsModeEnabled) {\r\n      createInitials();\r\n    }\r\n  };\r\n\r\n  const createFullSignature = async () => {\r\n    signatureToolArray[0].saveSignatures(signatureToolArray[0].getFullSignatureAnnotation());\r\n    for (let i = 1; i < signatureToolArray.length; i++) {\r\n      await signatureToolArray[i].setSignature(signatureToolArray[0].getFullSignatureAnnotation());\r\n    }\r\n\r\n    const signatureTool = signatureToolArray[activeDocumentViewerKey - 1];\r\n\r\n    if (!(await signatureTool.isEmptySignature())) {\r\n      core.setToolMode('AnnotationCreateSignature');\r\n\r\n      if (signatureMode === SignatureModes.FULL_SIGNATURE) {\r\n        if (signatureTool.hasLocation()) {\r\n          await signatureTool.addSignature();\r\n        } else {\r\n          for (const signatureTool of signatureToolArray) {\r\n            await signatureTool.showPreview();\r\n          }\r\n        }\r\n\r\n        dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\r\n      }\r\n    }\r\n  };\r\n\r\n  const createInitials = async () => {\r\n    signatureToolArray[0].saveInitials(signatureToolArray[0].getInitialsAnnotation());\r\n    for (let i = 1; i < signatureToolArray.length; i++) {\r\n      await signatureToolArray[i].saveInitials(signatureToolArray[0].getInitialsAnnotation());\r\n    }\r\n\r\n    const signatureTool = signatureToolArray[activeDocumentViewerKey - 1];\r\n    if (!(await signatureTool.isEmptyInitialsSignature())) {\r\n      core.setToolMode('AnnotationCreateSignature');\r\n\r\n      if (signatureMode === SignatureModes.INITIALS) {\r\n        if (signatureTool.hasLocation()) {\r\n          await signatureTool.addInitials();\r\n        } else {\r\n          for (const signatureTool of signatureToolArray) {\r\n            await signatureTool.showInitialsPreview();\r\n          }\r\n        }\r\n      }\r\n\r\n      dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\r\n      // back to the default mode\r\n      dispatch(actions.setSignatureMode(SignatureModes.FULL_SIGNATURE));\r\n    }\r\n  };\r\n\r\n  const setSignature = async (index) => {\r\n    const isFullSignature = signatureMode === SignatureModes.FULL_SIGNATURE;\r\n    dispatch(actions[isFullSignature ? 'setSelectedDisplayedSignatureIndex' : 'setSelectedDisplayedInitialsIndex'](index));\r\n    const { annotation } = isFullSignature ? displayedSignatures[index] : savedInitials[index];\r\n    core.setToolMode('AnnotationCreateSignature');\r\n    for (const signatureTool of signatureToolArray) {\r\n      await signatureTool[isFullSignature ? 'setSignature' : 'setInitials'](annotation);\r\n      if (signatureTool.hasLocation()) {\r\n        await signatureTool[isFullSignature ? 'addSignature' : 'addInitials']();\r\n      } else {\r\n        await signatureTool[isFullSignature ? 'showPreview' : 'showInitialsPreview']();\r\n      }\r\n    }\r\n    dispatch(actions.closeElement(DataElements.SIGNATURE_MODAL));\r\n  };\r\n\r\n  const disableCreateButton = useCallback(() => {\r\n    setCreateButtonDisabled(true);\r\n  }, [createButtonDisabled]);\r\n\r\n  const enableCreateButton = useCallback(() => {\r\n    setCreateButtonDisabled(false);\r\n  }, [createButtonDisabled]);\r\n\r\n  const modalClass = classNames({\r\n    Modal: true,\r\n    SignatureModal: true,\r\n    open: isOpen,\r\n    closed: !isOpen,\r\n  });\r\n  const isSavedTabSelected = selectedTab === 'savedSignaturePanelButton';\r\n\r\n  return isDisabled ? null : (\r\n    <Swipeable\r\n      onSwipedUp={closeModal}\r\n      onSwipedDown={closeModal}\r\n      preventDefaultTouchmoveEvent\r\n    >\r\n      <FocusTrap locked={isOpen}>\r\n        <div\r\n          className={modalClass}\r\n          data-element={DataElements.SIGNATURE_MODAL}\r\n        >\r\n          <div\r\n            className={classNames('container', { 'include-initials': isInitialsModeEnabled })}\r\n            onMouseDown={(e) => e.stopPropagation()}\r\n          >\r\n            <div className=\"swipe-indicator\" />\r\n            <Tabs id=\"signatureModal\">\r\n              <div className=\"header-container\">\r\n                <div className=\"header\">\r\n                  <p>{t('option.signatureModal.modalName')}</p>\r\n                  <Button\r\n                    className=\"signatureModalCloseButton\"\r\n                    dataElement=\"signatureModalCloseButton\"\r\n                    title=\"action.close\"\r\n                    img=\"ic_close_black_24px\"\r\n                    onClick={closeModal}\r\n                  />\r\n                </div>\r\n                <div className=\"tab-list\">\r\n                  {!isSavedTabDisabled && <Tab dataElement=\"savedSignaturePanelButton\">\r\n                    <button className=\"tab-options-button\">\r\n                      {t('option.type.saved')}\r\n                    </button>\r\n                  </Tab>}\r\n                  <div className=\"tab-options-divider\" />\r\n                  <Tab dataElement=\"inkSignaturePanelButton\">\r\n                    <button className=\"tab-options-button\">\r\n                      {t('action.draw')}\r\n                    </button>\r\n                  </Tab>\r\n                  <div className=\"tab-options-divider\" />\r\n                  <Tab dataElement=\"textSignaturePanelButton\">\r\n                    <button className=\"tab-options-button\">\r\n                      {t('action.type')}\r\n                    </button>\r\n                  </Tab>\r\n                  <div className=\"tab-options-divider\" />\r\n                  <Tab dataElement=\"imageSignaturePanelButton\">\r\n                    <button className=\"tab-options-button\">\r\n                      {t('action.upload')}\r\n                    </button>\r\n                  </Tab>\r\n                </div>\r\n              </div>\r\n              {!isSavedTabDisabled && <TabPanel dataElement=\"savedSignaturePanel\">\r\n                <SavedSignatures {...{ selectedIndex, setSelectedIndex }} />\r\n              </TabPanel>}\r\n              <TabPanel dataElement=\"inkSignaturePanel\">\r\n                <InkSignature\r\n                  isModalOpen={isOpen}\r\n                  enableCreateButton={enableCreateButton}\r\n                  disableCreateButton={disableCreateButton}\r\n                  isInitialsModeEnabled={isInitialsModeEnabled}\r\n                />\r\n              </TabPanel>\r\n              <TabPanel dataElement=\"textSignaturePanel\">\r\n                <TextSignature\r\n                  isModalOpen={isOpen}\r\n                  enableCreateButton={enableCreateButton}\r\n                  disableCreateButton={disableCreateButton}\r\n                  isInitialsModeEnabled={isInitialsModeEnabled}\r\n                />\r\n              </TabPanel>\r\n              <TabPanel dataElement=\"imageSignaturePanel\">\r\n                <ImageSignature\r\n                  isModalOpen={isOpen}\r\n                  enableCreateButton={enableCreateButton}\r\n                  disableCreateButton={disableCreateButton}\r\n                  isInitialsModeEnabled={isInitialsModeEnabled}\r\n                />\r\n              </TabPanel>\r\n              <div className=\"footer\">\r\n                <button className=\"signature-create\" onClick={isSavedTabSelected ? () => setSignature(selectedIndex) : createSignatures}\r\n                  disabled={isSavedTabSelected ? (!isSavedTabSelected || !displayedSignatures.length || !isOpen) : (!(isOpen) || createButtonDisabled)}>\r\n                  {t(isSavedTabSelected ? 'action.apply' : 'action.create')}\r\n                </button>\r\n              </div>\r\n            </Tabs>\r\n          </div>\r\n        </div>\r\n      </FocusTrap>\r\n    </Swipeable>\r\n  );\r\n};\r\n\r\nexport default SignatureModal;\r\n","import SignatureModal from './SignatureModal';\r\n\r\nexport default SignatureModal;"],"sourceRoot":""}