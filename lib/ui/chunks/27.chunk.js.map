{"version":3,"sources":["webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.scss?8a1f","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.scss","webpack:///./src/ui/src/components/PrintModal/PrintModal.scss?9f5f","webpack:///./src/ui/src/components/PrintModal/PrintModal.scss","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/web-fonts.js","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/WatermarkModal.js","webpack:///./src/ui/src/components/PrintModal/WatermarkModal/index.js","webpack:///./src/ui/src/components/PrintModal/PrintModal.js","webpack:///./src/ui/src/components/PrintModal/index.js"],"names":["api","content","__esModule","default","module","i","options","styleTag","webComponents","document","getElementsByTagName","length","clonedStyleTags","webComponent","shadowRoot","appendChild","onload","forEach","styleNode","innerHTML","cloneNode","push","head","exports","locals","FONTS","FONT_SIZES","WATERMARK_LOCATIONS","CENTER","TOP_LEFT","TOP_RIGHT","TOP_CENTER","BOT_LEFT","BOT_RIGHT","BOT_CENTER","FORM_FIELD_KEYS","DEFAULT_VALS","window","Core","Annotations","Color","WATERMARK_API_LOCATIONS","WatermarkModal","props","isVisible","setState","locationSettings","state","previousLocationSettings","core","getWatermark","preExistingWatermark","addWatermarks","removeWatermarkCreatedByModal","setWatermark","watermarkOptions","createWatermarks","pageHeight","getPageHeight","pageIndexToView","desiredZoomForWidth","getPageWidth","desiredZoomForHeight","desiredZoom","Math","min","getDocument","loadCanvas","pageNumber","zoom","drawComplete","canvas","nodes","canvasContainerRef","current","childNodes","removeChild","style","border","height","value","fontStyles","isBolded","getFontStyles","BOLD","isItalic","ITALIC","isUnderlined","UNDERLINE","fontSize","fontFamily","font","color","toString","opacity","text","watermarks","Object","keys","key","temp","constructWatermarkOption","modalClosed","currLocationSettings","currSelectedLocation","getCurrentSelectedLocation","event","preventDefault","initializeLocationSettings","formSubmitted","lineLength","circleRadius","visible","isColorPaletteVisible","locationKey","locationSetting","isSelected","location","object","find","newColor","currLocation","currLocationSetting","R","G","B","undefined","lockFocus","React","createRef","prevProps","addEventListener","this","closeModal","handleWatermarkOnVisibilityChanged","t","formInfo","DataElementWrapper","className","id","data-element","ModalWrapper","isOpen","title","closeButtonDataElement","onCloseClick","swipeToClose","closeHandler","ref","onSubmit","e","htmlFor","onChange","onLocationChanged","target","map","handleInputChange","type","Slider","property","displayProperty","getDisplayValue","round","getCirclePosition","getCirclePosn","convertRelativeCirclePositionToValue","circlePosn","onSliderChange","onStyleChange","Button","ariaLabel","backgroundColor","toHexString","onClick","setColorPaletteVisibility","dataElement","img","isActive","ColorPalette","onColorChanged","resetForm","onOkPressed","PureComponent","PropTypes","bool","number","func","isRequired","withTranslation","PrintModal","useSelector","selectors","isElementDisabled","DataElements","PRINT_MODAL","isElementOpen","getCurrentPage","getPrintQuality","getDefaultPrintOptions","getPageLabels","getSortStrategy","getColorMap","getDisplayMode","getPrintedNoteDateFormat","getCurrentLanguage","getWatermarkModalOptions","getTimezone","shallowEqual","isDisabled","isApplyWatermarkDisabled","currentPage","printQuality","defaultPrintOptions","pageLabels","sortStrategy","colorMap","layoutMode","printedNoteDateFormat","language","watermarkModalOptions","timezone","dispatch","useDispatch","useTranslation","allPages","useRef","currentPageRef","customPages","customInputRef","includeCommentsRef","currentView","existingWatermarksRef","useState","allowWatermarkModal","setAllowWatermarkModal","count","setCount","pagesToPrint","setPagesToPrint","isWatermarkModalVisible","setIsWatermarkModalVisible","includeAnnotations","setIncludeAnnotations","includeComments","setIncludeComments","maintainPageOrientation","setMaintainPageOrientation","isGrayscale","setIsGrayscale","useEffect","adjustHeightIfSinglePage","print","getRootNode","getElementById","children","parentElement","setAttribute","removeEventListener","isPrinting","getClassName","customPagesLabelElement","hidden","checked","placeholder","aria-label","disabled","actions","closeElements","SIGNATURE_MODAL","LOADING_MODAL","PROGRESS_MODAL","ERROR_MODAL","then","watermark","getTotalPages","pageCount","LayoutMode","FacingCover","FacingCoverContinuous","FacingContinuous","Facing","customInput","replace","getPageArrayFromString","createPagesAndPrint","createPages","creatingPages","pagePromise","Promise","all","pages","printPages","closePrintModal","console","error","closeElement","setWatermarkModalVisibility","setWatermarkModalOptions","containerOnClick","stopPropagation","Choice","name","radio","label","defaultChecked","center","prevState","setPrintQuality","Number"],"mappings":"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","file":"chunks/27.chunk.js","sourcesContent":["var api = require(\"!../../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../../node_modules/css-loader/index.js!../../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../../node_modules/sass-loader/dist/cjs.js!./WatermarkModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".Watermark{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.Watermark .modal-container .wrapper .modal-content{padding:10px}.Watermark .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.Watermark .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.Watermark .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.Watermark .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.Watermark .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.Watermark .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.Watermark .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.Watermark .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.Watermark .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.Watermark .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .footer .modal-button{padding:23px 8px}}.Watermark .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .swipe-indicator{display:none}}.open.Watermark{visibility:visible}.closed.Watermark{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}@-webkit-keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@keyframes bottom-up{0%{transform:translateY(100%)}to{transform:translateY(0)}}@-webkit-keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}@keyframes up-bottom{0%{transform:translateY(0)}to{transform:translateY(100%)}}.Watermark{z-index:110}.Watermark .StylePopup{position:absolute;margin-top:60px;background:var(--preset-background);display:flex;flex-direction:column;justify-content:center;border-radius:0 0 4px 4px;box-shadow:0 0 3px 0 var(--box-shadow);align-items:center}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.Watermark .StylePopup{margin-top:0}}.Watermark .StylePopup .ColorPalette{padding:10px}.Watermark .style-container{display:flex}.Watermark .style-container .Button{margin-right:8px}.Watermark .style-container .Button:hover{background:var(--popup-button-hover)}.Watermark .style-container .Button.active{background:var(--popup-button-active)}.Watermark .form-content-container{display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding:16px;width:100%}.Watermark .form-content-container form{width:auto}@media(min-width:315px)and (max-width:480px){.Watermark .form-content-container form{width:auto}}.Watermark .watermark-settings{display:flex;flex-direction:column;width:330px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings{width:100%}}.Watermark .watermark-settings .form-field{display:flex;flex-direction:column;margin:16px 0 16px 16px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .watermark-settings .form-field{margin-left:0}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .watermark-settings .form-field{margin-left:0}}.Watermark .watermark-settings .form-field label{margin-bottom:8px;font-weight:700}.Watermark .watermark-settings .form-field input,.Watermark .watermark-settings .form-field select{height:30px}.Watermark .watermark-settings .form-field.opacity-slider{display:flex}.Watermark .watermark-settings .form-field.opacity-slider .slider-property{font-weight:700}.Watermark .watermark-settings .form-field.opacity-slider .slider-svg-container{margin:0;height:30px}@media (-ms-high-contrast:active),(-ms-high-contrast:none){.Watermark .watermark-settings .form-field.opacity-slider{align-items:stretch}}.Watermark .watermark-settings .colorSelect{width:18px;height:18px;margin:7px 8px 7px 7px;border-radius:10000000px}.Watermark .canvas-container{display:flex;justify-content:center;align-items:center;width:500px;height:420px;background-color:var(--gray-5);border:1px solid var(--gray-5)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .Watermark .canvas-container{display:none}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .Watermark .canvas-container{display:none}}.Watermark .canvas-container canvas{border:1px solid var(--border)!important;width:325px!important}.Watermark .divider{height:1px;width:100%;background:var(--divider)}.Watermark .divider.separator{margin-top:16px}.Watermark .button-container{display:flex;justify-content:space-between;align-items:baseline;width:100%;padding:16px}.Watermark .button-container .button{display:flex;justify-content:center;align-items:center;padding:6px 18px;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;border:0;height:32px;cursor:pointer;font-size:13px}.Watermark .button-container .button.ok{color:var(--primary-button-text);background:var(--primary-button)}.Watermark .button-container .button.ok:hover{background:var(--primary-button-hover)}.Watermark .button-container .button.cancel{color:var(--secondary-button-text);background:none}.Watermark .button-container .button.cancel:hover{color:var(--secondary-button-hover)}.Watermark .button-container .reset-settings{background-color:transparent;cursor:pointer;background:none;border:0;width:100%;color:var(--secondary-button-text);display:flex;font-size:13px;padding:6px 18px}:host(:not([data-tabbing=true])) .Watermark .button-container .reset-settings,html:not([data-tabbing=true]) .Watermark .button-container .reset-settings{outline:none}.Watermark .button-container .reset-settings:hover{color:var(--secondary-button-hover)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/index.js!../../../../../node_modules/postcss-loader/src/index.js??postcss!../../../../../node_modules/sass-loader/dist/cjs.js!./PrintModal.scss\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = function (styleTag) {\r\n                const webComponents = document.getElementsByTagName('apryse-webviewer');\r\n                if (webComponents.length > 0) {\r\n                  const clonedStyleTags = [];\r\n                  for (let i = 0; i < webComponents.length; i++) {\r\n                    const webComponent = webComponents[i];\r\n                    if (i === 0) {\r\n                      webComponent.shadowRoot.appendChild(styleTag);\r\n                      styleTag.onload = function () {\r\n                        if (clonedStyleTags.length > 0) {\r\n                          clonedStyleTags.forEach((styleNode) => {\r\n                            // eslint-disable-next-line no-unsanitized/property\r\n                            styleNode.innerHTML = styleTag.innerHTML;\r\n                          });\r\n                        }\r\n                      };\r\n                    } else {\r\n                      const styleNode = styleTag.cloneNode(true);\r\n                      webComponent.shadowRoot.appendChild(styleNode);\r\n                      clonedStyleTags.push(styleNode);\r\n                    }\r\n                  }\r\n                } else {\r\n                  document.head.appendChild(styleTag);\r\n                }\r\n              };\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","exports = module.exports = require(\"../../../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".open.PrintModal{visibility:visible}.closed.PrintModal{visibility:hidden}:host{display:inline-block;container-type:inline-size;width:100%;height:100%;overflow:hidden}@media(min-width:901px){.App:not(.is-web-component) .hide-in-desktop{display:none}}@container (min-width: 901px){.hide-in-desktop{display:none}}@media(min-width:641px)and (max-width:900px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .hide-in-tablet{display:none}}@container (min-width: 641px) and (max-width: 900px){.App.is-web-component:not(.is-in-desktop-only-mode) .hide-in-tablet{display:none}}@media(max-width:640px)and (min-width:431px){.App:not(.is-web-component) .hide-in-mobile{display:none}}@container (max-width: 640px) and (min-width: 431px){.App.is-web-component .hide-in-mobile{display:none}}@media(max-width:430px){.App:not(.is-web-component) .hide-in-small-mobile{display:none}}@container (max-width: 430px){.App.is-web-component .hide-in-small-mobile{display:none}}.always-hide{display:none}.PrintModal{position:fixed;left:0;bottom:0;z-index:100;width:100%;height:100%;display:flex;justify-content:center;align-items:center;background:var(--modal-negative-space)}.PrintModal .modal-container .wrapper .modal-content{padding:10px}.PrintModal .footer{display:flex;flex-direction:row;justify-content:flex-end;width:100%;margin-top:13px}.PrintModal .footer.modal-footer{padding:16px;margin:0;border-top:1px solid var(--divider)}.PrintModal .footer .modal-button{display:flex;justify-content:center;align-items:center;padding:6px 18px;margin:8px 0 0;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;border-radius:4px;height:30px;cursor:pointer}.PrintModal .footer .modal-button.cancel{color:var(--secondary-button-text);border:1px solid var(--secondary-button-text)}.PrintModal .footer .modal-button.cancel:hover{background-color:var(--document-background-color);color:var(--secondary-button-hover);border:1px solid var(--secondary-button-hover)}.PrintModal .footer .modal-button.confirm{margin-left:4px;color:var(--primary-button-text);font-weight:600;background:var(--primary-button)}.PrintModal .footer .modal-button.confirm:hover{background:var(--primary-button-hover)}.PrintModal .footer .modal-button.confirm.disabled{background:var(--primary-button)!important;opacity:.5}.PrintModal .footer .modal-button.secondary-btn-custom{border-radius:4px;border:1px solid var(--primary-button);color:var(--primary-button);padding:2px 20px 4px;cursor:pointer;background-color:#fff}.PrintModal .footer .modal-button.secondary-btn-custom:hover{color:var(--secondary-button-hover)}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .footer .modal-button{padding:23px 8px}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .footer .modal-button{padding:23px 8px}}.PrintModal .swipe-indicator{background:var(--divider);border-radius:2px;height:4px;width:38px;position:absolute;top:12px;margin-left:auto;margin-right:auto;left:0;right:0}@media(min-width:641px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .swipe-indicator{display:none}}@container (min-width: 641px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .swipe-indicator{display:none}}.PrintModal .modal-container{width:480px}.PrintModal .modal-container .settings{display:flex;flex-direction:column;width:100%;padding:24px}.PrintModal .modal-container .settings .ui__choice{margin:10px 4px 4px 0}.PrintModal .modal-container .divider{height:1px;width:100%;background:var(--divider)}.PrintModal .modal-container .section{padding-bottom:16px}.PrintModal .modal-container .section.watermark-section{padding-bottom:0}.PrintModal .modal-container .section .section-label{font-weight:700}.PrintModal .modal-container .section .printQualitySelectLabel{display:grid;padding:4px 0}.PrintModal .modal-container .section .printQualitySelectLabel .printQualitySelect{width:216px;height:30px;margin-top:5px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .modal-container .section .printQualitySelectLabel .printQualitySelect{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .modal-container .section .printQualitySelectLabel .printQualitySelect{width:100%}}.PrintModal .modal-container label{padding:2px 0 2px 4px}.PrintModal .modal-container input[type=text]{width:100%;height:30px;border:1px solid var(--border);border-radius:4px;color:var(--text-color);padding:4px 42px 6px 8px;margin-top:6px}.PrintModal .modal-container input[type=text]:focus{outline:none;border:1px solid var(--focus-border)}.PrintModal .modal-container input[type=text]::-moz-placeholder{color:var(--placeholder-text)}.PrintModal .modal-container input[type=text]:-ms-input-placeholder{color:var(--placeholder-text)}.PrintModal .modal-container input[type=text]::placeholder{color:var(--placeholder-text)}.PrintModal .modal-container .total{display:flex;flex-direction:row;padding-top:4px;color:var(--text-color)}.PrintModal .modal-container .background{width:100%;height:10px;transform:translateY(-50%);fill:#e2f3fe}.PrintModal .modal-container .progress{height:10px;transform:translateY(-50%);fill:#077bc5}.PrintModal .modal-container .buttons{display:flex;flex-direction:row;justify-content:flex-end;width:100%;padding:20px}.PrintModal .modal-container .buttons .button{background-color:transparent;display:flex;justify-content:center;align-items:center;color:var(--primary-button-text);padding:6px 18px;width:auto;width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;background:var(--primary-button);border-radius:4px;border:0;height:32px;cursor:pointer;font-size:13px}:host(:not([data-tabbing=true])) .PrintModal .modal-container .buttons .button,html:not([data-tabbing=true]) .PrintModal .modal-container .buttons .button{outline:none}.PrintModal .modal-container .buttons .button:hover{background:var(--primary-button-hover)}.PrintModal .modal-container .buttons .button:disabled{opacity:.5;cursor:auto}.PrintModal .modal-container .specify-pages-choice{margin-bottom:18px}.PrintModal .modal-container .specify-pages-choice input{width:195px}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .modal-container .specify-pages-choice input{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .modal-container .specify-pages-choice input{width:100%}}.PrintModal .modal-container .specify-pages-choice label{display:grid}@media(max-width:640px){.App:not(.is-in-desktop-only-mode):not(.is-web-component) .PrintModal .modal-container .specify-pages-choice label{width:100%}}@container (max-width: 640px){.App.is-web-component:not(.is-in-desktop-only-mode) .PrintModal .modal-container .specify-pages-choice label{width:100%}}.PrintModal .modal-container .specify-pages-choice.ui__choice--checked{align-items:baseline}.PrintModal .modal-container .apply-watermark{border:none;background-color:transparent;cursor:pointer;margin-top:10px;background:none;border:1px solid var(--secondary-button-text);border-radius:4px;color:var(--secondary-button-text);padding:6px 16px;height:32px;display:flex;align-items:center;justify-content:center;font-size:13px}:host(:not([data-tabbing=true])) .PrintModal .modal-container .apply-watermark,html:not([data-tabbing=true]) .PrintModal .modal-container .apply-watermark{outline:none}.PrintModal .modal-container .apply-watermark:hover{color:var(--secondary-button-hover)}\", \"\"]);\n\n// exports\nexports.locals = {\n\t\"LEFT_HEADER_WIDTH\": \"41px\",\n\t\"RIGHT_HEADER_WIDTH\": \"41px\"\n};","// https://websitesetup.org/web-safe-fonts-html-css/\r\nexport const FONTS = [\r\n  'Arial',\r\n  'Times New Roman',\r\n  'Tahoma ',\r\n  'Trebuchet MS',\r\n  'Courier',\r\n  'Verdana',\r\n  'Georgia',\r\n  'Palatino',\r\n  'Comic Sans MS',\r\n  'Arial Black',\r\n  'Impact',\r\n];","import ColorPalette from 'components/ColorPalette';\r\nimport Slider from 'components/Slider';\r\nimport { circleRadius } from 'constants/slider';\r\nimport core from 'core';\r\nimport PropTypes from 'prop-types';\r\nimport React from 'react';\r\nimport { withTranslation } from 'react-i18next';\r\nimport Button from 'components/Button';\r\nimport { FONTS } from './web-fonts';\r\nimport './WatermarkModal.scss';\r\nimport ModalWrapper from '../../ModalWrapper';\r\n\r\nimport DataElementWrapper from 'src/components/DataElementWrapper';\r\n\r\nconst DESIRED_WIDTH = 300;\r\nconst DESIRED_HEIGHT = 300;\r\n\r\n// numbers were taken from font dropdown menu in google docs\r\nconst FONT_SIZES = [8, 9, 10, 11, 12, 14, 16, 18, 24, 30, 36, 48, 60, 72, 96];\r\nconst DEFAULT_FONT_SIZE = 48;\r\n\r\nconst WATERMARK_LOCATIONS = {\r\n  CENTER: 'center',\r\n  TOP_LEFT: 'topLeft',\r\n  TOP_RIGHT: 'topRight',\r\n  TOP_CENTER: 'topCenter',\r\n  BOT_LEFT: 'bottomLeft',\r\n  BOT_RIGHT: 'bottomRight',\r\n  BOT_CENTER: 'bottomCenter',\r\n};\r\n\r\nconst FORM_FIELD_KEYS = {\r\n  location: 'location',\r\n  fontSize: 'fontSize',\r\n  text: 'text',\r\n  color: 'color',\r\n  opacity: 'opacity',\r\n  font: 'font',\r\n  isBolded: 'isBolded',\r\n  isItalic: 'isItalic',\r\n  isUnderlined: 'isUnderlined',\r\n};\r\n\r\nconst DEFAULT_VALS = {\r\n  [FORM_FIELD_KEYS.location]: WATERMARK_LOCATIONS.CENTER,\r\n  [FORM_FIELD_KEYS.fontSize]: DEFAULT_FONT_SIZE,\r\n  [FORM_FIELD_KEYS.text]: '',\r\n  // red\r\n  [FORM_FIELD_KEYS.color]: new window.Core.Annotations.Color(228, 66, 52),\r\n  [FORM_FIELD_KEYS.opacity]: 100,\r\n  [FORM_FIELD_KEYS.font]: FONTS[0],\r\n  [FORM_FIELD_KEYS.isBolded]: false,\r\n  [FORM_FIELD_KEYS.isItalic]: false,\r\n  [FORM_FIELD_KEYS.isUnderlined]: false,\r\n};\r\n\r\n// Values come from https://docs.apryse.com/api/web/Core.DocumentViewer.html#setWatermark__anchor\r\nconst WATERMARK_API_LOCATIONS = {\r\n  [WATERMARK_LOCATIONS.CENTER]: 'diagonal',\r\n  [WATERMARK_LOCATIONS.TOP_LEFT]: 'headerLeft',\r\n  [WATERMARK_LOCATIONS.TOP_RIGHT]: 'headerRight',\r\n  [WATERMARK_LOCATIONS.TOP_CENTER]: 'headerCenter',\r\n  [WATERMARK_LOCATIONS.BOT_LEFT]: 'footerLeft',\r\n  [WATERMARK_LOCATIONS.BOT_RIGHT]: 'footerRight',\r\n  [WATERMARK_LOCATIONS.BOT_CENTER]: 'footerCenter',\r\n};\r\n\r\nclass WatermarkModal extends React.PureComponent {\r\n  static propTypes = {\r\n    isVisible: PropTypes.bool,\r\n    pageIndexToView: PropTypes.number,\r\n    modalClosed: PropTypes.func,\r\n    formSubmitted: PropTypes.func,\r\n    t: PropTypes.func.isRequired,\r\n  };\r\n\r\n  constructor(props) {\r\n    super(props);\r\n    const locationSettings = this.initializeLocationSettings();\r\n    this.preExistingWatermark = undefined;\r\n    this.state = {\r\n      isColorPaletteVisible: false,\r\n      locationSettings,\r\n      previousLocationSettings: locationSettings,\r\n      lockFocus: false,\r\n    };\r\n    this.canvasContainerRef = React.createRef();\r\n  }\r\n\r\n  componentDidUpdate(prevProps) {\r\n    core.addEventListener('documentLoaded', this.closeModal);\r\n\r\n    if (this.props.isVisible !== prevProps.isVisible) {\r\n      // Sets focus with a slight delay after modal becomes visible in order to\r\n      // prevent stack overflow with competing print modal focus lock.\r\n      if (this.props.isVisible) {\r\n        this.setState({ lockFocus: true });\r\n      } else {\r\n        this.setState({ lockFocus: false });\r\n      }\r\n\r\n      this.setState(\r\n        {\r\n          isColorPaletteVisible: false,\r\n        },\r\n        () => this.handleWatermarkOnVisibilityChanged(),\r\n      );\r\n    }\r\n  }\r\n\r\n  handleWatermarkOnVisibilityChanged = () => {\r\n    if (this.props.isVisible) {\r\n      this.setState(\r\n        {\r\n          locationSettings: this.state.previousLocationSettings,\r\n        },\r\n        async () => {\r\n          // Store the pre-existing watermark (if any) before we overwrite it\r\n          this.preExistingWatermark = await core.getWatermark();\r\n          this.addWatermarks();\r\n        },\r\n      );\r\n    } else {\r\n      this.removeWatermarkCreatedByModal();\r\n      core.setWatermark(this.preExistingWatermark);\r\n    }\r\n  };\r\n\r\n  addWatermarks = () => {\r\n    const watermarkOptions = this.createWatermarks();\r\n\r\n    core.setWatermark(watermarkOptions);\r\n\r\n    const pageHeight = core.getPageHeight(this.props.pageIndexToView + 1);\r\n    const pageWidth = core.getPageWidth(this.props.pageIndexToView + 1);\r\n\r\n    const desiredZoomForWidth = DESIRED_WIDTH / pageWidth;\r\n    const desiredZoomForHeight = DESIRED_HEIGHT / pageHeight;\r\n\r\n    const desiredZoom = Math.min(desiredZoomForHeight, desiredZoomForWidth);\r\n\r\n    core.getDocument().loadCanvas({\r\n      pageNumber: this.props.pageIndexToView + 1,\r\n      zoom: desiredZoom,\r\n      drawComplete: (canvas) => {\r\n        const nodes = this.canvasContainerRef.current.childNodes;\r\n        if (nodes && nodes.length > 0) {\r\n          this.canvasContainerRef.current.removeChild(nodes[0]);\r\n        }\r\n        canvas.style.border = '1px solid black';\r\n        canvas.style.height = this.canvasContainerRef.current.style.height;\r\n        this.canvasContainerRef.current.appendChild(canvas);\r\n      },\r\n    });\r\n\r\n    // Note: do not update and refresh the doc else it may affect other docs as well\r\n  };\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  constructWatermarkOption = (value) => {\r\n    const fontStyles = [];\r\n    if (value.isBolded) {\r\n      fontStyles.push(core.getFontStyles().BOLD);\r\n    }\r\n    if (value.isItalic) {\r\n      fontStyles.push(core.getFontStyles().ITALIC);\r\n    }\r\n    if (value.isUnderlined) {\r\n      fontStyles.push(core.getFontStyles().UNDERLINE);\r\n    }\r\n    const watermarkOption = {\r\n      fontSize: value.fontSize,\r\n      fontFamily: value.font,\r\n      color: value.color.toString(),\r\n      opacity: value.opacity,\r\n      text: value.text,\r\n      fontStyles,\r\n    };\r\n\r\n    return watermarkOption;\r\n  };\r\n\r\n  createWatermarks = () => {\r\n    const watermarks = {};\r\n\r\n    Object.keys(WATERMARK_LOCATIONS).forEach((key) => {\r\n      const temp = this.constructWatermarkOption(\r\n        this.state.locationSettings[key],\r\n      );\r\n      const value = WATERMARK_LOCATIONS[key];\r\n      watermarks[WATERMARK_API_LOCATIONS[value]] = temp;\r\n    });\r\n    return watermarks;\r\n  };\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  removeWatermarkCreatedByModal = () => {\r\n    core.setWatermark({});\r\n  };\r\n\r\n  closeModal = () => {\r\n    this.props.modalClosed();\r\n  };\r\n\r\n  handleInputChange = (key, value) => {\r\n    const currLocationSettings = {\r\n      ...this.state.locationSettings,\r\n    };\r\n    const currSelectedLocation = this.getCurrentSelectedLocation();\r\n    currLocationSettings[currSelectedLocation] = {\r\n      ...currLocationSettings[currSelectedLocation],\r\n      [key]: value,\r\n    };\r\n\r\n    this.setState(\r\n      {\r\n        locationSettings: currLocationSettings,\r\n      },\r\n      () => {\r\n        this.addWatermarks();\r\n      },\r\n    );\r\n  };\r\n\r\n  resetForm = (event) => {\r\n    event.preventDefault();\r\n    const locationSettings = this.initializeLocationSettings();\r\n    this.setState(\r\n      {\r\n        locationSettings,\r\n      },\r\n      () => this.addWatermarks(),\r\n    );\r\n  };\r\n\r\n  onOkPressed = () => {\r\n    this.setState(\r\n      {\r\n        previousLocationSettings: this.state.locationSettings,\r\n      },\r\n      () => {\r\n        // the order of these fxn calls matter\r\n        this.props.modalClosed();\r\n        const watermarkOptions = this.createWatermarks();\r\n        this.props.formSubmitted(watermarkOptions);\r\n      },\r\n    );\r\n  };\r\n\r\n  getCirclePosn = (lineLength, opacity) => {\r\n    const lineStart = circleRadius;\r\n    return opacity * lineLength + lineStart;\r\n  };\r\n\r\n  setColorPaletteVisibility = (visible) => {\r\n    this.setState({ isColorPaletteVisible: visible });\r\n  };\r\n\r\n  onLocationChanged = (key) => {\r\n    const currLocationSettings = {\r\n      ...this.state.locationSettings,\r\n    };\r\n    Object.keys(currLocationSettings).forEach((locationKey) => {\r\n      let locationSetting = currLocationSettings[locationKey];\r\n      locationSetting = {\r\n        ...locationSetting,\r\n        isSelected: key === locationKey,\r\n      };\r\n      currLocationSettings[locationKey] = locationSetting;\r\n    });\r\n\r\n    this.setState(\r\n      {\r\n        locationSettings: currLocationSettings,\r\n      },\r\n      () => {\r\n        this.addWatermarks();\r\n      },\r\n    );\r\n  };\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  initializeLocationSettings = () => {\r\n    const locationSettings = {};\r\n    Object.keys(WATERMARK_LOCATIONS).forEach((key) => {\r\n      // ignore location as it is redundant as we already have location key\r\n      const { ...others } = DEFAULT_VALS;\r\n      const temp = {\r\n        ...others,\r\n        isSelected: WATERMARK_LOCATIONS[key] === DEFAULT_VALS.location,\r\n      };\r\n      locationSettings[key] = temp;\r\n    });\r\n    return locationSettings;\r\n  };\r\n\r\n  // eslint-disable-next-line class-methods-use-this\r\n  getKeyByValue = (object, value) => Object.keys(object).find((key) => object[key] === value);\r\n\r\n  getCurrentSelectedLocation = () => Object.keys(this.state.locationSettings).find((locationKey) => {\r\n    const locationSetting = this.state.locationSettings[locationKey];\r\n    return locationSetting.isSelected;\r\n  });\r\n\r\n  onColorChanged = (newColor) => {\r\n    const currLocation = this.getCurrentSelectedLocation();\r\n    const currLocationSetting = this.state.locationSettings[currLocation];\r\n    currLocationSetting[FORM_FIELD_KEYS.color] = new window.Core.Annotations.Color(\r\n      newColor.R,\r\n      newColor.G,\r\n      newColor.B,\r\n    );\r\n    const locationSettings = {\r\n      ...this.state.locationSettings,\r\n    };\r\n    if (!currLocationSetting[FORM_FIELD_KEYS.text]) {\r\n      // if text is undefined, persist the changed color to other location settings (customer's request)\r\n      Object.keys(WATERMARK_LOCATIONS).forEach((location) => {\r\n        const locationSetting = locationSettings[location];\r\n        if (!locationSetting[FORM_FIELD_KEYS.text]) {\r\n          locationSetting[FORM_FIELD_KEYS.color] = new window.Core.Annotations.Color(\r\n            newColor.R,\r\n            newColor.G,\r\n            newColor.B,\r\n          );\r\n        }\r\n      });\r\n    }\r\n    this.setState(\r\n      {\r\n        locationSettings,\r\n      },\r\n      () => {\r\n        this.addWatermarks();\r\n      },\r\n    );\r\n  };\r\n\r\n  render() {\r\n    const { isVisible } = this.props;\r\n    if (!isVisible) {\r\n      return null;\r\n    }\r\n\r\n    const { t } = this.props;\r\n\r\n    const currLocation = this.getCurrentSelectedLocation();\r\n    const formInfo = this.state.locationSettings[currLocation];\r\n    return (\r\n      <DataElementWrapper\r\n        className={'Modal Watermark'}\r\n        id=\"watermarkModal\"\r\n        data-element=\"watermarkModal\"\r\n      >\r\n        <ModalWrapper\r\n          isOpen={this.state.lockFocus} title={'option.watermark.addWatermark'}\r\n          closeButtonDataElement={'watermarkModalCloseButton'}\r\n          onCloseClick={this.closeModal}\r\n          swipeToClose\r\n          closeHandler={this.closeModal}\r\n        >\r\n          <div className=\"swipe-indicator\" />\r\n\r\n          <div className=\"form-content-container\">\r\n            <div\r\n              className=\"canvas-container\"\r\n              ref={this.canvasContainerRef}\r\n            ></div>\r\n\r\n            <div className=\"watermark-settings\">\r\n              <form id=\"form\" onSubmit={(e) => e.preventDefault()}>\r\n                <div className=\"form-field\">\r\n                  <label htmlFor=\"location\">{t('option.watermark.location')}</label>\r\n                  <select\r\n                    id=\"location\"\r\n                    onChange={(event) => {\r\n                      this.onLocationChanged(event.target.value);\r\n                    }}\r\n                  >\r\n                    {Object.keys(WATERMARK_LOCATIONS).map((key) => (\r\n                      <option key={key} value={key}>{t(`option.watermark.locations.${WATERMARK_LOCATIONS[key]}`)}</option>\r\n                    ))}\r\n                  </select>\r\n                  <div className=\"separator divider\"></div>\r\n                </div>\r\n\r\n                <div className=\"form-field\">\r\n                  <label htmlFor=\"textInput\">{t('option.watermark.text')}</label>\r\n                  <input\r\n                    className=\"text-input\"\r\n                    id=\"textInput\"\r\n                    value={formInfo[FORM_FIELD_KEYS.text]}\r\n                    onChange={(event) => this.handleInputChange(\r\n                      FORM_FIELD_KEYS.text,\r\n                      event.target.value,\r\n                    )\r\n                    }\r\n                    type=\"text\"\r\n                  />\r\n                </div>\r\n                <div className=\"form-field\">\r\n                  <label htmlFor=\"fonts\">{t('option.watermark.font')}</label>\r\n                  <select\r\n                    id=\"fonts\"\r\n                    value={formInfo[FORM_FIELD_KEYS.font]}\r\n                    onChange={(event) => this.handleInputChange(\r\n                      FORM_FIELD_KEYS.font,\r\n                      event.target.value,\r\n                    )\r\n                    }\r\n                  >\r\n                    {FONTS.map((font) => (\r\n                      <option key={font}>{font}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-field\">\r\n                  <label htmlFor=\"fontSize\">{t('option.watermark.size')}</label>\r\n                  <select\r\n                    id=\"fontSize\"\r\n                    value={formInfo[FORM_FIELD_KEYS.fontSize]}\r\n                    onChange={(event) => this.handleInputChange(\r\n                      FORM_FIELD_KEYS.fontSize,\r\n                      +event.target.value,\r\n                    )\r\n                    }\r\n                  >\r\n                    {FONT_SIZES.map((fontSize) => (\r\n                      <option key={fontSize}>{fontSize}</option>\r\n                    ))}\r\n                  </select>\r\n                </div>\r\n                <div className=\"form-field opacity-slider\" id=\"opacitySlider\">\r\n                  <Slider\r\n                    property={'opacity'} // arbitrary property name. this property isn't used in this file\r\n                    displayProperty={'opacity'} // arbitrary property name. this property isn't used in this file\r\n                    value={formInfo[FORM_FIELD_KEYS.opacity] / 100}\r\n                    getDisplayValue={(opacity) => `${Math.round(opacity * 100)}%`}\r\n                    getCirclePosition={this.getCirclePosn}\r\n                    convertRelativeCirclePositionToValue={(circlePosn) => circlePosn\r\n                    }\r\n                    onSliderChange={() => { }}\r\n                    onStyleChange={(property, value) => this.handleInputChange(\r\n                      FORM_FIELD_KEYS.opacity,\r\n                      Math.round(value * 100),\r\n                    )\r\n                    }\r\n                  />\r\n                </div>\r\n                <div className=\"form-field\">\r\n                  <label>{t('option.watermark.style')}</label>\r\n                  <div className=\"style-container\">\r\n                    <Button\r\n                      id=\"currentColorCell\"\r\n                      className=\"colorSelect\"\r\n                      ariaLabel=\"colorSelectButton\"\r\n                      style={{\r\n                        backgroundColor: formInfo[\r\n                          FORM_FIELD_KEYS.color\r\n                        ].toHexString(),\r\n                      }}\r\n                      onClick={() => this.setColorPaletteVisibility(\r\n                        !this.state.isColorPaletteVisible,\r\n                      )\r\n                      }\r\n                    />\r\n                    <div className=\"style-container\">\r\n                      <Button\r\n                        dataElement=\"boldText\"\r\n                        img=\"icon-text-bold\"\r\n                        isActive={formInfo[FORM_FIELD_KEYS.isBolded]}\r\n                        onClick={() => this.handleInputChange(\r\n                          FORM_FIELD_KEYS.isBolded,\r\n                          !formInfo[FORM_FIELD_KEYS.isBolded],\r\n                        )\r\n                        }\r\n                      />\r\n                      <Button\r\n                        dataElement=\"italicizeText\"\r\n                        img=\"icon-text-italic\"\r\n                        isActive={formInfo[FORM_FIELD_KEYS.isItalic]}\r\n                        onClick={() => this.handleInputChange(\r\n                          FORM_FIELD_KEYS.isItalic,\r\n                          !formInfo[FORM_FIELD_KEYS.isItalic],\r\n                        )\r\n                        }\r\n                      />\r\n                      <Button\r\n                        dataElement=\"underlineText\"\r\n                        img=\"icon-text-underline\"\r\n                        isActive={formInfo[FORM_FIELD_KEYS.isUnderlined]}\r\n                        onClick={() => this.handleInputChange(\r\n                          FORM_FIELD_KEYS.isUnderlined,\r\n                          !formInfo[FORM_FIELD_KEYS.isUnderlined],\r\n                        )\r\n                        }\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  {this.state.isColorPaletteVisible && (\r\n                    <div\r\n                      className={'Popup StylePopup'}\r\n                      id=\"stylePopup\"\r\n                      onClick={() => this.setColorPaletteVisibility(false)}\r\n                    >\r\n                      <ColorPalette\r\n                        color={formInfo[FORM_FIELD_KEYS.color]}\r\n                        property={'TextColor'} // arbitrary property name. this property isn't used in this file\r\n                        onStyleChange={(property, color) => {\r\n                          this.onColorChanged(color);\r\n                          this.setColorPaletteVisibility(false);\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  )}\r\n\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"divider\"></div>\r\n          <div className=\"button-container\">\r\n            <button\r\n              className=\"reset-settings\"\r\n              id=\"reset\"\r\n              onClick={this.resetForm}\r\n            >\r\n              {t('option.watermark.resetAllSettings')}\r\n            </button>\r\n            <button\r\n              className=\"ok button\"\r\n              id=\"submit\"\r\n              onClick={this.onOkPressed}\r\n            >\r\n              {t('action.add')}\r\n            </button>\r\n          </div>\r\n        </ModalWrapper>\r\n      </DataElementWrapper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withTranslation()(WatermarkModal);\r\n","import WatermarkModal from './WatermarkModal';\r\n\r\nexport default WatermarkModal;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport actions from 'actions';\r\nimport selectors from 'selectors';\r\nimport core from 'core';\r\nimport getPageArrayFromString from 'helpers/getPageArrayFromString';\r\nimport getClassName from 'helpers/getClassName';\r\nimport { creatingPages, printPages } from 'helpers/print';\r\nimport LayoutMode from 'constants/layoutMode';\r\nimport WatermarkModal from 'components/PrintModal/WatermarkModal';\r\nimport Choice from 'components/Choice/Choice';\r\nimport ModalWrapper from 'components/ModalWrapper';\r\nimport { useSelector, useDispatch, shallowEqual } from 'react-redux';\r\nimport { useTranslation } from 'react-i18next';\r\nimport DataElements from 'constants/dataElement';\r\nimport getRootNode from 'helpers/getRootNode';\r\n\r\nimport './PrintModal.scss';\r\n\r\nconst PrintModal = () => {\r\n  const [\r\n    isDisabled,\r\n    isOpen,\r\n    isApplyWatermarkDisabled,\r\n    currentPage,\r\n    printQuality,\r\n    defaultPrintOptions,\r\n    pageLabels,\r\n    sortStrategy,\r\n    colorMap,\r\n    layoutMode,\r\n    printedNoteDateFormat,\r\n    language,\r\n    watermarkModalOptions,\r\n    timezone\r\n  ] = useSelector(\r\n    (state) => [\r\n      selectors.isElementDisabled(state, DataElements.PRINT_MODAL),\r\n      selectors.isElementOpen(state, DataElements.PRINT_MODAL),\r\n      selectors.isElementDisabled(state, 'applyWatermark'),\r\n      selectors.getCurrentPage(state),\r\n      selectors.getPrintQuality(state),\r\n      selectors.getDefaultPrintOptions(state),\r\n      selectors.getPageLabels(state),\r\n      selectors.getSortStrategy(state),\r\n      selectors.getColorMap(state),\r\n      selectors.getDisplayMode(state),\r\n      selectors.getPrintedNoteDateFormat(state),\r\n      selectors.getCurrentLanguage(state),\r\n      selectors.getWatermarkModalOptions(state),\r\n      selectors.getTimezone(state)\r\n    ],\r\n    shallowEqual\r\n  );\r\n  const dispatch = useDispatch();\r\n  const [t] = useTranslation();\r\n\r\n  const allPages = useRef();\r\n  const currentPageRef = useRef();\r\n  const customPages = useRef();\r\n  const customInputRef = useRef();\r\n  const includeCommentsRef = useRef();\r\n  const currentView = useRef();\r\n  const existingWatermarksRef = useRef();\r\n\r\n  const [allowWatermarkModal, setAllowWatermarkModal] = useState(false);\r\n  const [count, setCount] = useState(-1);\r\n  const [pagesToPrint, setPagesToPrint] = useState([]);\r\n  const [isWatermarkModalVisible, setIsWatermarkModalVisible] = useState(false);\r\n  const [includeAnnotations, setIncludeAnnotations] = useState(true);\r\n  const [includeComments, setIncludeComments] = useState(false);\r\n  const [maintainPageOrientation, setMaintainPageOrientation] = useState(false);\r\n  const [isGrayscale, setIsGrayscale] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (defaultPrintOptions) {\r\n      setIncludeAnnotations(defaultPrintOptions.includeAnnotations ?? includeAnnotations);\r\n      setIncludeComments(defaultPrintOptions.includeComments ?? includeComments);\r\n      setMaintainPageOrientation(defaultPrintOptions.maintainPageOrientation ?? maintainPageOrientation);\r\n    }\r\n  }, [defaultPrintOptions]);\r\n\r\n  useEffect(() => {\r\n    const adjustHeightIfSinglePage = () => {\r\n      const print = getRootNode().getElementById('print-handler');\r\n\r\n      if (!print) {\r\n        return;\r\n      }\r\n\r\n      if (print.children.length === 1) {\r\n        print.parentElement.setAttribute('style', 'height: 99%;');\r\n      } else {\r\n        print.parentElement.setAttribute('style', 'height: 100%;');\r\n      }\r\n    };\r\n\r\n    window.addEventListener('beforeprint', adjustHeightIfSinglePage);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeprint', adjustHeightIfSinglePage);\r\n    };\r\n  }, []);\r\n\r\n  const isPrinting = count >= 0;\r\n  const className = getClassName('Modal PrintModal', { isOpen });\r\n  const customPagesLabelElement = (\r\n    <>\r\n      {t('option.print.specifyPages')}\r\n      <input\r\n        ref={customInputRef}\r\n        hidden={!customPages.current || (customPages.current && !customPages.current.checked)}\r\n        type=\"text\"\r\n        placeholder={t('message.customPrintPlaceholder')}\r\n        aria-label={t('message.customPrintPlaceholder')}\r\n        onChange={onChange}\r\n        disabled={isPrinting}\r\n      />\r\n    </>\r\n  );\r\n\r\n  useEffect(() => {\r\n    onChange();\r\n    dispatch(actions.closeElements([\r\n      DataElements.SIGNATURE_MODAL,\r\n      DataElements.LOADING_MODAL,\r\n      DataElements.PROGRESS_MODAL,\r\n      DataElements.ERROR_MODAL,\r\n    ]));\r\n    core.getWatermark().then((watermark) => {\r\n      setAllowWatermarkModal(\r\n        watermark === undefined ||\r\n        watermark === null ||\r\n        Object.keys(watermark).length === 0\r\n      );\r\n      existingWatermarksRef.current = watermark;\r\n    });\r\n\r\n    return () => {\r\n      core.setWatermark(existingWatermarksRef.current);\r\n      setIsWatermarkModalVisible(false);\r\n    };\r\n  }, []);\r\n\r\n  const onChange = () => {\r\n    let pagesToPrint = [];\r\n\r\n    if (allPages.current.checked) {\r\n      for (let i = 1; i <= core.getTotalPages(); i++) {\r\n        pagesToPrint.push(i);\r\n      }\r\n    } else if (currentPageRef.current.checked) {\r\n      const pageCount = core.getTotalPages();\r\n\r\n      // when displaying 2 pages, \"Current\" should print both of them\r\n      switch (layoutMode) {\r\n        case LayoutMode.FacingCover:\r\n        case LayoutMode.FacingCoverContinuous:\r\n          if (\r\n            currentPage === 1 ||\r\n            (currentPage === pageCount && pageCount % 2 === 0)\r\n          ) {\r\n            // first page or last page if single page\r\n            pagesToPrint.push(currentPage);\r\n          } else {\r\n            pagesToPrint =\r\n              currentPage % 2\r\n                ? [currentPage - 1, currentPage]\r\n                : [currentPage, currentPage + 1];\r\n          }\r\n          break;\r\n        case LayoutMode.FacingContinuous:\r\n        case LayoutMode.Facing:\r\n          if (currentPage === pageCount && pageCount % 2 === 1) {\r\n            // last page if single page\r\n            pagesToPrint.push(currentPage);\r\n          } else {\r\n            pagesToPrint =\r\n              currentPage % 2\r\n                ? [currentPage, currentPage + 1]\r\n                : [currentPage - 1, currentPage];\r\n          }\r\n          break;\r\n        default:\r\n          pagesToPrint.push(currentPage);\r\n          break;\r\n      }\r\n    } else if (customPages.current.checked) {\r\n      const customInput = customInputRef.current.value.replace(/\\s+/g, '');\r\n      pagesToPrint = getPageArrayFromString(customInput, pageLabels);\r\n    } else if (currentView.current.checked) {\r\n      pagesToPrint = [currentPage];\r\n    }\r\n\r\n    setPagesToPrint(pagesToPrint);\r\n  };\r\n\r\n  const createPagesAndPrint = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (pagesToPrint.length < 1) {\r\n      return;\r\n    }\r\n\r\n    setCount(0);\r\n\r\n    if (allowWatermarkModal) {\r\n      core.setWatermark(watermarkModalOptions);\r\n    } else {\r\n      core.setWatermark(existingWatermarksRef.current);\r\n    }\r\n\r\n    const createPages = creatingPages(\r\n      pagesToPrint,\r\n      includeComments,\r\n      includeAnnotations,\r\n      maintainPageOrientation,\r\n      printQuality,\r\n      sortStrategy,\r\n      colorMap,\r\n      printedNoteDateFormat,\r\n      undefined,\r\n      currentView.current?.checked,\r\n      language,\r\n      false,\r\n      isGrayscale,\r\n      timezone\r\n    );\r\n    createPages.forEach(async (pagePromise) => {\r\n      await pagePromise;\r\n      setCount(count < pagesToPrint.length && (count !== -1 ? count + 1 : count));\r\n    });\r\n    Promise.all(createPages)\r\n      .then((pages) => {\r\n        printPages(pages);\r\n        closePrintModal();\r\n      })\r\n      .catch((e) => {\r\n        console.error(e);\r\n        setCount(-1);\r\n      });\r\n  };\r\n\r\n  const closePrintModal = () => {\r\n    setCount(-1);\r\n    dispatch(actions.closeElement(DataElements.PRINT_MODAL));\r\n  };\r\n\r\n  const setWatermarkModalVisibility = (visible) => {\r\n    setIsWatermarkModalVisible(visible);\r\n  };\r\n\r\n  return isDisabled ? null : (\r\n    <>\r\n      <WatermarkModal\r\n        isVisible={!!(isOpen && isWatermarkModalVisible)}\r\n        // pageIndex starts at index 0 and getCurrPage number starts at index 1\r\n        pageIndexToView={currentPage - 1}\r\n        modalClosed={setWatermarkModalVisibility}\r\n        formSubmitted={(value) => dispatch(actions.setWatermarkModalOptions(value))}\r\n      />\r\n      <div\r\n        className={className}\r\n        data-element={DataElements.PRINT_MODAL}\r\n      >\r\n        <ModalWrapper\r\n          isOpen={isOpen && !isWatermarkModalVisible} title={'option.print.printSettings'}\r\n          containerOnClick={(e) => e.stopPropagation()} onCloseClick={closePrintModal}\r\n          closeButtonDataElement={'printModalCloseButton'}\r\n          swipeToClose\r\n          closeHandler={closePrintModal}\r\n        >\r\n          <div className=\"swipe-indicator\" />\r\n          <div className=\"settings\">\r\n            <div className=\"section\">\r\n              <div className=\"section-label\">{`${t('option.print.pages')}:`}</div>\r\n              <form\r\n                className=\"settings-form\"\r\n                onChange={onChange}\r\n                onSubmit={createPagesAndPrint}\r\n              >\r\n                <Choice\r\n                  dataElement=\"allPagesPrintOption\"\r\n                  ref={allPages}\r\n                  id=\"all-pages\"\r\n                  name=\"pages\"\r\n                  radio\r\n                  label={t('option.print.all')}\r\n                  defaultChecked\r\n                  disabled={isPrinting}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"currentPagePrintOption\"\r\n                  ref={currentPageRef}\r\n                  id=\"current-page\"\r\n                  name=\"pages\"\r\n                  radio\r\n                  label={t('option.print.current')}\r\n                  disabled={isPrinting}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"currentViewPrintOption\"\r\n                  ref={currentView}\r\n                  id=\"current-view\"\r\n                  name=\"pages\"\r\n                  radio\r\n                  label={t('option.print.view')}\r\n                  disabled={isPrinting}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"customPagesPrintOption\"\r\n                  ref={customPages}\r\n                  id=\"custom-pages\"\r\n                  name=\"pages\"\r\n                  className=\"specify-pages-choice\"\r\n                  radio\r\n                  label={customPagesLabelElement}\r\n                  disabled={isPrinting}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"commentsPrintOption\"\r\n                  ref={includeCommentsRef}\r\n                  id=\"include-comments\"\r\n                  name=\"comments\"\r\n                  label={t('option.print.includeComments')}\r\n                  onChange={() => setIncludeComments((prevState) => !prevState)}\r\n                  disabled={isPrinting}\r\n                  checked={includeComments}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"annotationsPrintOption\"\r\n                  id=\"include-annotations\"\r\n                  name=\"annotations\"\r\n                  label={t('option.print.includeAnnotations')}\r\n                  disabled={isPrinting}\r\n                  onChange={() => setIncludeAnnotations((prevState) => !prevState)}\r\n                  checked={includeAnnotations}\r\n                  center\r\n                />\r\n                <Choice\r\n                  dataElement=\"grayscalePrintOption\"\r\n                  id=\"print-grayscale\"\r\n                  name=\"grayscale\"\r\n                  label={t('option.print.printGrayscale')}\r\n                  disabled={isPrinting}\r\n                  onChange={() => setIsGrayscale((prevState) => !prevState)}\r\n                  checked={isGrayscale}\r\n                  center\r\n                />\r\n              </form>\r\n            </div>\r\n            <div className=\"section\">\r\n              <div className=\"section-label\">{`${t('option.print.pageQuality')}:`}</div>\r\n              <label className=\"printQualitySelectLabel\">\r\n                <select\r\n                  className=\"printQualitySelect\"\r\n                  onChange={(e) => dispatch(actions.setPrintQuality(Number(e.target.value)))}\r\n                  value={printQuality}\r\n                >\r\n                  <option value=\"2\">{`${t('option.print.qualityHigh')}`}</option>\r\n                  <option value=\"1\">{`${t('option.print.qualityNormal')}`}</option>\r\n                </select>\r\n              </label>\r\n              <div className=\"total\">\r\n                {isPrinting ? (\r\n                  <div>{`${t('message.processing')} ${count}/${pagesToPrint.length}`}</div>\r\n                ) : (\r\n                  <div>{t('message.printTotalPageCount', { count: pagesToPrint.length })}</div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            {!isApplyWatermarkDisabled && (\r\n              <div className=\"section watermark-section\">\r\n                <div className=\"section-label\">{t('option.watermark.title')}</div>\r\n                <button\r\n                  data-element=\"applyWatermark\"\r\n                  className=\"apply-watermark\"\r\n                  disabled={isPrinting}\r\n                  onClick={() => {\r\n                    if (!isPrinting) {\r\n                      setWatermarkModalVisibility(true);\r\n                    }\r\n                  }}\r\n                >\r\n                  {t('option.watermark.addNew')}\r\n                </button>\r\n              </div>\r\n            )}\r\n          </div>\r\n          <div className=\"divider\"></div>\r\n          <div className=\"buttons\">\r\n            <button\r\n              className=\"button\"\r\n              onClick={createPagesAndPrint}\r\n              disabled={isPrinting || pagesToPrint.length < 1}\r\n            >\r\n              {t('action.print')}\r\n            </button>\r\n          </div>\r\n        </ModalWrapper>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PrintModal;\r\n","import PrintModal from './PrintModal';\r\n\r\nexport default PrintModal;\r\n"],"sourceRoot":""}